<script>
    "use strict"; function _defineProperty(t, e, i) { return e in t ? Object.defineProperty(t, e, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = i, t } function _slicedToArray2(t, e) { return _arrayWithHoles2(t) || _iterableToArrayLimit2(t, e) || _unsupportedIterableToArray2(t, e) || _nonIterableRest2() } function _nonIterableRest2() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function _iterableToArrayLimit2(t, e) { var i = null == t ? null : "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (null != i) { var s, o, r = [], n = !0, a = !1; try { for (i = i.call(t); !(n = (s = i.next()).done) && (r.push(s.value), !e || r.length !== e); n = !0); } catch (t) { a = !0, o = t } finally { try { n || null == i.return || i.return() } finally { if (a) throw o } } return r } } function _arrayWithHoles2(t) { if (Array.isArray(t)) return t } function _createForOfIteratorHelper(t, e) { var i, s = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!s) { if (Array.isArray(t) || (s = _unsupportedIterableToArray2(t)) || e && t && "number" == typeof t.length) { s && (t = s); var o = 0, e = function () { }; return { s: e, n: function () { return o >= t.length ? { done: !0 } : { done: !1, value: t[o++] } }, e: (i = function (t) { throw t }, r.toString = function () { return i.toString() }, r), f: e } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function r(t) { return i.apply(this, arguments) } var n, a, c = !0, d = !1; return { s: function () { s = s.call(t) }, n: function () { var t = s.next(); return c = t.done, t }, e: (a = function (t) { d = !0, n = t }, l.toString = function () { return a.toString() }, l), f: function () { try { c || null == s.return || s.return() } finally { if (d) throw n } } }; function l(t) { return a.apply(this, arguments) } } function _toConsumableArray(t) { return _arrayWithoutHoles(t) || _iterableToArray(t) || _unsupportedIterableToArray2(t) || _nonIterableSpread() } function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function _unsupportedIterableToArray2(t, e) { if (t) { if ("string" == typeof t) return _arrayLikeToArray2(t, e); var i = Object.prototype.toString.call(t).slice(8, -1); return "Map" === (i = "Object" === i && t.constructor ? t.constructor.name : i) || "Set" === i ? Array.from(t) : "Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i) ? _arrayLikeToArray2(t, e) : void 0 } } function _iterableToArray(t) { if ("undefined" != typeof Symbol && null != t[Symbol.iterator] || null != t["@@iterator"]) return Array.from(t) } function _arrayWithoutHoles(t) { if (Array.isArray(t)) return _arrayLikeToArray2(t) } function _arrayLikeToArray2(t, e) { (null == e || e > t.length) && (e = t.length); for (var i = 0, s = new Array(e); i < e; i++)s[i] = t[i]; return s } function _typeof(t) { return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(t) } !function (G) { window.theme = window.theme || {}, window.theme.state = window.theme.state || {}, window.slate = window.slate || {}; var i, s, o, r, n = 1; function d(t, e) { return function (t) { if (Array.isArray(t)) return t }(t) || function (t, e) { var i = null == t ? null : "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (null != i) { var s, o, r = [], n = !0, a = !1; try { for (i = i.call(t); !(n = (s = i.next()).done) && (r.push(s.value), !e || r.length !== e); n = !0); } catch (t) { a = !0, o = t } finally { try { n || null == i.return || i.return() } finally { if (a) throw o } } return r } }(t, e) || function (t, e) { if (t) { if ("string" == typeof t) return a(t, e); var i = Object.prototype.toString.call(t).slice(8, -1); return "Map" === (i = "Object" === i && t.constructor ? t.constructor.name : i) || "Set" === i ? Array.from(t) : "Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i) ? a(t, e) : void 0 } }(t, e) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function a(t, e) { (null == e || e > t.length) && (e = t.length); for (var i = 0, s = new Array(e); i < e; i++)s[i] = t[i]; return s } function t(t) { this.$container = t.$container, this.product = t.product, this.singleOptionSelector = t.singleOptionSelector, this.originalSelectorId = t.originalSelectorId, this.enableHistoryState = t.enableHistoryState, this.currentVariant = this._getVariantFromOptions(), G(this.singleOptionSelector, this.$container).on("change", this._onSelectChange.bind(this)) } function e(t, e) { t = { message: t, statusClass: e }; i.push(t), setTimeout(function () { i.shift() }, s) } function c(t) { this.classes = { shown: "shown" }, this.$container = t, this._init() } function l(t) { var e = G(o.searchContainer, t), t = G(o.searchField, t); e.toggleClass(r.shown), e.hasClass(r.shown) && t.focus() } function u(t) { this.$container = t, this.selectors = { tab: "[data-tab]", initialTab: "[data-initial-tab]", accordionTab: "[data-accordion-tab]", tabContent: "[data-tab-content]", initialTabContent: "[data-initial-tab-content]", tabContentWrapper: "[data-tab-content-wrapper]", contentOverflow: "[data-content-overflow]" }, this.classes = { current: "current", hidden: "hide" }, this._initTabs() } function h(t, e) { this.$el = t, 0 !== this.$el.length && (this.options = e, this._manageBreakpointSlideshow(), this._throttledManage = _.throttle(this._manageBreakpointSlideshow.bind(this), 400), G(window).on("resize", this._throttledManage)) } function p(t) { t = this.$container = G(t); this.selectors = { productGridItem: "[data-product-grid-item]", addToCart: "[data-add-to-cart]", addToCartText: "[data-add-to-cart-text]", BISActions: "[data-bis-actions]", OFstock: "[data-out-of-stock]", availableActions: "[data-available-actions]", BISTrigger: "[data-bis-trigger]", linkToProduct: "[data-link-to-product]", price: "[data-price]", saleBadge: "[data-sale-badge]", salePercentage: "[data-sale-percentage]", imageWrapper: "[data-image-wrapper]", productGridItemMainImage: "[data-product-grid-item-main-image]", productGridItemHoverImage: "[data-product-grid-item-hover-image]", swatches: "[data-product-grid-item-swatch]", stars: "[data-stars]", tsStarsStub: ".ts-stub", tsStars: ".trustspot-inline-star", tsReviewsCount: ".ts-reviews-count" }, this.classes = { tsInlineSimple: "trustspot-inline-simple" }, this.attributes = {}, this.settings = { enableBIS: t.data("enable-bis") || !1 }, this._setUpTS(), this._initAddToCart(), this._initSwatches(), 1024 < G(window).width() ? this._initTippy() : (G(".swatch").click(function () { G(".swatch").removeClass("active"), G(this).addClass("active") }), this._initTippyMob()), this._initStars(); var e = this; G(document).on("lazyloaded", function (t) { !G(t.target).is(e.selectors.productGridItemMainImage) || 0 < (t = G(t.target).closest(e.selectors.productGridItem)).length && e._preloadVariantImages(t) }) } function m(t) { t = this.$container = G(t); this.popupCookieName = "wmp-simple-popup", this.options = { delay: t.data("delay"), frequency: t.data("frequency"), md5: t.data("md5") }, this.selectors = { popup: ".popup", popupLink: "[data-popup-link]" }, this._shouldShowPopup() && (window.setTimeout(this._openPopup.bind(this), this.options.delay), this._setUpPopupLinkClick()) } function f(t) { this.$container = G(t); this._initSearch() } function g(t) { t = this.$container = G(t); this.selectors = { desktopHeaderWrapper: ".desktop-header__top-row-wrapper", desktopHeader: ".desktop-header__top-row", navWrapper: ".desktop-header__bottom-row-wrapper", submenuParents: ".has-submenu", megamenuParents: ".has-megamenu", siteNavLinks: ".site-nav-link", searchToggle: "[data-search-toggle]" }, this.settings = { preventNavigationOnSubmenuParents: !0, stickyNav: t.data("sticky-nav") }, this.settings.stickyNav && this._initStickyNav(), this.settings.preventNavigationOnSubmenuParents && this._initSubmenuParents(), this._initSearchToggle() } function w(t) { this.$container = G(t); this.selectors = (_defineProperty(t = { menuToggle: "[data-mobile-menu-toggle]", mobileMenuContainer: ".mobile-menu-container", menuMoreToggle: "[data-menu-more-toggle]", submenuParents: ".has-submenu", shopSubmenuParent: "[data-has-shop-submenu]", menuSubmenu: "[data-menu-submenu]", mobileShopSubmenu: "[data-mobile-shop-submenu]" }, "mobileShopSubmenu", "[data-mobile-shop-submenu]"), _defineProperty(t, "mobileNavTopLevelLinks", ".mobile-nav-link:not(.mobile-nav-link--submenu)"), _defineProperty(t, "featuredLinks", "[data-featured-links]"), _defineProperty(t, "featuredLink", "[data-featured-link]"), _defineProperty(t, "featuredLinkUrl", "[data-featured-link-url]"), _defineProperty(t, "featuredLinkImage", "[data-featured-link-image]"), _defineProperty(t, "featuredLinkTitle", "[data-featured-link-title]"), t), this.settings = { preventNavigationOnSubmenuParents: !0 }, this._initMenuToggle(), this._initMenuMoreToggle(), this._initMobileShopSubmenu(), this._initSearch(), this.settings.preventNavigationOnSubmenuParents && this._initSubmenuParents() } function v(t) { this.$container = G(t), this.selectors = { productListing: "[data-product-listing]" }, this._initProductListing() } function y(t) { this.$container = G(t), this.selectors = { collectionContainer: "[data-collection-container]", collectionItem: "[data-related-products]", slickButton: "[data-slick-ctrl-button]" }, this.dataAttributes = { collectionHandle: "related-products", slickCtrlButton: "slick-ctrl-button" }, this.$collectionItems = G(this.selectors.collectionItem, this.$container), this._init() } function b(t) { this.$container = G(t), this.sectionId = this.$container.data("section-id"), this.selectors = { productListing: "[data-product-listing]", productGridItemPlaceholders: "[data-product-grid-item-placeholder]", productGridItems: "[data-product-grid-item]", showMoreButton: "[data-show-more-button]", showMoreText: "[data-show-more-text]", showMoreStatus: "[data-show-more-status]", lastPageNotice: "[data-last-page-notice]", filters: "#collection-filters-" + this.sectionId, mobileFilterToggles: "[data-filter-toggle]" }, this.XHRTemplateSuffix = this.$container.data("xhr-template") || "xhr", 0 < G(this.selectors.filters).length && this._initFilters(), this._initProductListing(), !0 === this.$container.data("infinite-scroll") && this._initInfiniteScroll() } function k(t) { var e = this.$container = G(t), t = e.attr("data-section-id"); this.sectionId = t, this.namespace = ".product", this.selectors = { productJson: "[data-product-json]", initialMedia: "[data-initial-media]", productSlideshow: "[data-product-slideshow]", desktopSlideshow: "#product-section-desktop-slideshow-" + t, desktopThumbnails: "#product-section-desktop-thumbnails-" + t, desktopSeeItStyled: "[data-desktop-see-it-styled]", mobileSlideshow: "#product-section-mobile-slideshow-" + t, variantThumbnailsContainer: "[data-variant-thumbnails]", variantThumbnails: "[data-variant-thumbnail]", singleOptionSelector: ".single-option-selector-" + t, originalSelectorId: "#ProductSelect-" + t, stars: "[data-stars]", tabs: "[data-tabs-container]", productDescription: "[data-product-description]", productDimensions: "[data-product-dimensions]", mobileSeeItStyled: "[data-mobile-see-it-styled]", mobileSeeItStyledLink: "[data-mobile-see-it-styled-link]", productForm: "[data-product-form]", availableActions: "[data-available-actions]", BISActions: "[data-bis-actions]", OFstock: "[data-out-of-stock]", BISTrigger: "[data-bis-trigger]", addToCart: "[data-add-to-cart]", addToCartText: "[data-add-to-cart-text]", loader: "[data-loader]", shopifyPaymentButton: ".shopify-payment-button", price: "[data-price]", regularPrice: "[data-regular-price]", salePrice: "[data-sale-price]", trustspotContainer: ".product-section__trustspot", reviewsSection: "#product-reviews-" + this.sectionId, expandReviews: "[data-expand-reviews]", productVideo: "[data-product-video]" }, this.classes = { active: "is-active", priceOnSale: "price--on-sale", hidden: "hide", expanded: "is-expanded" }, this.attributes = {}, this.settings = { enableBIS: e.data("enable-bis") || !1 }, G("#ProductJson-" + t).html() && (this.productSingleObject = JSON.parse(document.getElementById("ProductJson-" + t).innerHTML), this.$addToCart = G(this.selectors.addToCart, e), this.$addToCartText = G(this.selectors.addToCartText, this.$addToCart), this.$shopifyPaymentButton = G(this.selectors.shopifyPaymentButton, e), this.$loader = G(this.selectors.loader, this.$addToCart), this.$loaderStatus = G(this.selectors.loaderStatus, e), this._initVariantThumbs(), this._initVariants(), this._initAddToCart(), this._initProductSlideshows(), this._initTabs(), this._initStars(), this._initExpandReviews(), this._initTSReviewsWidget(), this._initDesktopSeeItStyled(), this._initMobileSeeItStyled(), this.$productVideos = G(this.selectors.productVideo, e), 0 < this.$productVideos.length && this._initProductVideo(), this.$productDescription = G(this.selectors.productDescription, e), this.$productDimensions = G(this.selectors.productDimensions, e), this._initDimensions(), !0 === this.settings.enableBIS && this._initBIS(), "reviews" === new Url(window.location.href).query["open-to"] && this._scrollToReviews()) } function C(t) { t = (this.$container = G(t)).attr("data-section-id"); this.sectionId = t, this.namespace = ".featured-product", this.selectors = { productListing: "[data-product-listing]" }, this._init() } function S(t) { t = (this.$container = G(t)).attr("data-section-id"); this.sectionId = t, this.namespace = ".related-products", this.selectors = { relatedProducts: "[data-related-products]" }, this._init() } function T(t) { var e = this.$container = G(t), t = e.attr("data-section-id"); this.sectionId = t, this.namespace = ".slideshow", this.selectors = { slideshow: ".slideshow" }, this.settings = { slidesToShow: parseInt(e.attr("data-slides-to-show")) }, this._init() } function I(t) { t = this.$container = G(t); this.sectionId = t.attr("data-section-id"), this._init() } jQuery.fn.allLazyLoaded = function (s) { var o, r, n, a; return this.length && (n = jQuery, a = function () { return !("complete" in this) || this.complete }, this.each(function () { function t() { var t; t = !!window.lazySizes, !o && t && (o = "." + lazySizes.cfg.loadingClass, r = "." + lazySizes.cfg.lazyClass), !t || n(r, e).length || n(o, e).not(a).length || (e.removeEventListener("load", i, !0), s && s.call(e, e), n(e).trigger("containerlazyloaded")) } var e = this, i = function () { requestAnimationFrame(t) }; e.addEventListener("load", i, !0), i() })), this }, window.theme.strings = window.theme.strings || {}, window.theme.strings.transparentBase64Gif = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", theme.Sections = function () { this.constructors = {}, this.instances = [], G(document).on("shopify:section:load", this._onSectionLoad.bind(this)).on("shopify:section:unload", this._onSectionUnload.bind(this)).on("shopify:section:select", this._onSelect.bind(this)).on("shopify:section:deselect", this._onDeselect.bind(this)).on("shopify:block:select", this._onBlockSelect.bind(this)).on("shopify:block:deselect", this._onBlockDeselect.bind(this)) }, theme.Sections.prototype = _.assignIn({}, theme.Sections.prototype, { _createInstance: function (t, e) { var i = G(t), s = i.attr("data-section-id"), i = i.attr("data-section-type"); e = e || this.constructors[i], _.isUndefined(e) || (t = _.assignIn(new e(t), { id: s, type: i, container: t }), this.instances.push(t)) }, _onSectionLoad: function (t) { t = G("[data-section-id]", t.target)[0]; t && this._createInstance(t) }, _onSectionUnload: function (i) { this.instances = _.filter(this.instances, function (t) { var e = t.id === i.detail.sectionId; return e && _.isFunction(t.onUnload) && t.onUnload(i), !e }) }, _onSelect: function (e) { var t = _.find(this.instances, function (t) { return t.id === e.detail.sectionId }); !_.isUndefined(t) && _.isFunction(t.onSelect) && t.onSelect(e) }, _onDeselect: function (e) { var t = _.find(this.instances, function (t) { return t.id === e.detail.sectionId }); !_.isUndefined(t) && _.isFunction(t.onDeselect) && t.onDeselect(e) }, _onBlockSelect: function (e) { var t = _.find(this.instances, function (t) { return t.id === e.detail.sectionId }); !_.isUndefined(t) && _.isFunction(t.onBlockSelect) && t.onBlockSelect(e) }, _onBlockDeselect: function (e) { var t = _.find(this.instances, function (t) { return t.id === e.detail.sectionId }); !_.isUndefined(t) && _.isFunction(t.onBlockDeselect) && t.onBlockDeselect(e) }, register: function (t, i) { this.constructors[t] = i, G("[data-section-type=" + t + "]").each(function (t, e) { this._createInstance(e, i) }.bind(this)) } }), window.slate = window.slate || {}, slate.utils = { getParameterByName: function (t, e) { e = e || window.location.href, t = t.replace(/[[\]]/g, "\\$&"); e = new RegExp("[?&]" + t + "(=([^&#]*)|&|#|$)").exec(e); return e ? e[2] ? decodeURIComponent(e[2].replace(/\+/g, " ")) : "" : null }, keyboardKeys: { TAB: 9, ENTER: 13, ESCAPE: 27, LEFTARROW: 37, RIGHTARROW: 39 } }, window.slate = window.slate || {}, slate.rte = { wrapTable: function (t) { t.$tables.wrap('<div class="' + t.tableWrapperClass + '"></div>') }, wrapIframe: function (t) { t.$iframes.each(function () { G(this).wrap('<div class="' + t.iframeWrapperClass + '"></div>'), this.src = this.src }) } }, window.slate = window.slate || {}, slate.a11y = { pageLinkFocus: function (t) { var e = "js-focus-hidden"; t.first().attr("tabIndex", "-1").focus().addClass(e).one("blur", function () { t.first().removeClass(e).removeAttr("tabindex") }) }, focusHash: function () { var t = window.location.hash; t && document.getElementById(t.slice(1)) && this.pageLinkFocus(G(t)) }, bindInPageLinks: function () { G("a[href*=#]").on("click", function (t) { this.pageLinkFocus(G(t.currentTarget.hash)) }.bind(this)) }, trapFocus: function (t) { var e = { focusin: t.namespace ? "focusin." + t.namespace : "focusin", focusout: t.namespace ? "focusout." + t.namespace : "focusout", keydown: t.namespace ? "keydown." + t.namespace : "keydown.handleFocus" }, i = t.$container.find(G('button, [href], input, select, textarea, [tabindex]:not([tabindex^="-"])').filter(":visible")), s = i[0], o = i[i.length - 1]; t.$elementToFocus || (t.$elementToFocus = t.$container), t.$container.attr("tabindex", "-1"), t.$elementToFocus.focus(), G(document).off("focusin"), G(document).on(e.focusout, function () { G(document).off(e.keydown) }), G(document).on(e.focusin, function (t) { t.target !== o && t.target !== s || G(document).on(e.keydown, function (t) { (t = t).keyCode === slate.utils.keyboardKeys.TAB && (t.target !== o || t.shiftKey || (t.preventDefault(), s.focus()), t.target === s && t.shiftKey && (t.preventDefault(), o.focus())) }) }) }, removeTrapFocus: function (t) { var e = t.namespace ? "focusin." + t.namespace : "focusin"; t.$container && t.$container.length && t.$container.removeAttr("tabindex"), G(document).off(e) }, accessibleLinks: function (t) { var o = document.querySelector("body"), r = { newWindow: "a11y-new-window-message", external: "a11y-external-message", newWindowExternal: "a11y-new-window-external-message" }; void 0 !== t.$links && t.$links.jquery || (t.$links = G("a[href]:not([aria-describedby])")), G.each(t.$links, function () { var t, e = G(this), i = e.attr("target"), s = e.attr("rel"), t = (t = window.location.hostname, e[0].hostname !== t), i = "_blank" === i; t && e.attr("aria-describedby", r.external), i && (void 0 !== s && -1 !== s.indexOf("noopener") || e.attr("rel", function (t, e) { return (void 0 === e ? "" : e + " ") + "noopener" }), e.attr("aria-describedby", r.newWindow)), t && i && e.attr("aria-describedby", r.newWindowExternal) }), function (t) { "object" !== _typeof(t) && (t = {}); var e, i = _.assignIn({ newWindow: "Opens in a new window.", external: "Opens external website.", newWindowExternal: "Opens external website in a new window." }, t), t = document.createElement("ul"), s = ""; for (e in i) s += "<li id=" + r[e] + ">" + i[e] + "</li>"; t.setAttribute("hidden", !0), t.innerHTML = s, o.appendChild(t) }(t.messages) } }, theme.Images = { preload: function (t, e) { "string" == typeof t && (t = [t]); for (var i = 0; i < t.length; i++) { var s = t[i]; this.loadImage(this.getSizedImageUrl(s, e)) } }, loadImage: function (t) { (new Image).src = t }, switchImage: function (t, e, i) { var s = this.imageSize(e.src), s = this.getSizedImageUrl(t.src, s); i ? i(s, t, e) : e.src = s }, imageSize: function (t) { return null !== (t = t.match(/.+_((?:pico|icon|thumb|small|compact|medium|large|grande)|\d{1,4}x\d{0,4}|x\d{1,4})[_\\.@]/)) ? void 0 !== t[2] ? t[1] + t[2] : t[1] : null }, getSizedImageUrl: function (t, e) { if (null === e) return t; if ("master" === e) return this.removeProtocol(t); var i = t.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i); return null === i ? null : (t = t.split(i[0]), i = i[0], this.removeProtocol(t[0] + "_" + e + i)) }, removeProtocol: function (t) { return t.replace(/http(s)?:/, "") } }, theme.Currency = { formatMoney: function (t, e) { "string" == typeof t && (t = t.replace(".", "")); var i = "", s = /\{\{\s*(\w+)\s*\}\}/; function o(t, e, i, s) { if (i = i || ",", s = s || ".", isNaN(t) || null === t) return 0; t = (t = (t / 100).toFixed(e)).split("."); return t[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1" + i) + (t[1] ? s + t[1] : "") } switch ((e = e || "${{amount}}").match(s)[1]) { case "amount": i = o(t, 2); break; case "amount_no_decimals": i = o(t, 0); break; case "amount_with_comma_separator": i = o(t, 2, ".", ","); break; case "amount_no_decimals_with_comma_separator": i = o(t, 0, ".", ","); break; case "amount_no_decimals_with_space_separator": i = o(t, 0, " "); break; case "amount_with_apostrophe_separator": i = o(t, 2, "'") }return e.replace(s, i) } }, slate.Variants = (t.prototype = _.assignIn({}, t.prototype, { _getCurrentOptions: function () { var t = _.map(G(this.singleOptionSelector, this.$container), function (t) { var e = G(t), i = e.attr("type"), t = {}; return ("radio" !== i && "checkbox" !== i || !!e[0].checked) && (t.value = e.val(), t.index = e.data("index"), t) }); return t = _.compact(t) }, _getVariantFromOptions: function () { var t = this._getCurrentOptions(), e = this.product.variants; return _.find(e, function (e) { return t.every(function (t) { return _.isEqual(e[t.index], t.value) }) }) }, _onSelectChange: function () { var t = this._getVariantFromOptions(); this.$container.trigger({ type: "variantChange", variant: t }), t && (this._updateMasterSelect(t), this._updateImages(t), this._updatePrice(t), this._updateSKU(t), this.currentVariant = t, this.enableHistoryState && this._updateHistoryState(t)) }, _updateImages: function (t) { var e = t.featured_image || {}, i = this.currentVariant.featured_image || {}; t.featured_image && e.src !== i.src && this.$container.trigger({ type: "variantImageChange", variant: t }) }, _updatePrice: function (t) { t.price === this.currentVariant.price && t.compare_at_price === this.currentVariant.compare_at_price || this.$container.trigger({ type: "variantPriceChange", variant: t }) }, _updateSKU: function (t) { t.sku !== this.currentVariant.sku && this.$container.trigger({ type: "variantSKUChange", variant: t }) }, _updateHistoryState: function (t) { history.replaceState && t && (t = window.location.protocol + "//" + window.location.host + window.location.pathname + "?variant=" + t.id, window.history.replaceState({ path: t }, "", t)) }, _updateMasterSelect: function (t) { G(this.originalSelectorId, this.$container).val(t.id) } }), t), theme.LibraryLoader = function () { var d = "link", l = "script", u = { requested: "requested", loaded: "loaded" }, t = "https://cdn.shopify.com/shopifycloud/", h = _.assignIn({}, theme.libraries, { youtubeSdk: { tagId: "youtube-sdk", src: "https://www.youtube.com/iframe_api", type: l }, plyrShopifyStyles: { tagId: "plyr-shopify-styles", src: t + "shopify-plyr/v1.0/shopify-plyr.css", type: d }, modelViewerUiStyles: { tagId: "shopify-model-viewer-ui-styles", src: t + "model-viewer-ui/assets/v1.0/model-viewer-ui.css", type: d } }); return { load: function (t, e) { var i, s, o, r, n, a, c = h[t]; if (c && c.status !== u.requested) if (e = e || function () { }, c.status !== u.loaded) { switch (c.status = u.requested, c.type) { case l: r = c, n = e, (a = document.createElement("script")).src = r.src, a.addEventListener("load", function () { r.status = u.loaded, n() }), i = a; break; case d: s = c, o = e, (a = document.createElement("link")).href = s.src, a.rel = "stylesheet", a.type = "text/css", a.addEventListener("load", function () { s.status = u.loaded, o() }), i = a }i.id = c.tagId, c.element = i; t = document.getElementsByTagName(c.type)[0]; t.parentNode.insertBefore(i, t) } else e() } } }(), theme.FlashMessages = (i = [], s = 4e3, { init: function () { document.addEventListener("wmp:ajax:error", function (t) { t = t.detail.response; e("AJAX Error: " + t.status + " " + t.statusText, "error") }), document.addEventListener("wmp:cart:error", function (t) { e("Cart Error: " + t.detail.errorMessage, "error") }), new Vue({ el: "#flash-messages", delimiters: ["<%", "%>"], data: { flashMessages: i } }) }, showMessage: e }), theme.Cart = { init: function () { var q = parseInt(window.ProductBundlerOptionsConfig.shopId / 2), E = 100 * parseInt(window.ProductBundlerOptionsConfig.variantSwatchesIds[0] / 3 - parseInt(3615231737165)), H = 100 * parseInt(window.ProductBundlerOptionsConfig.linkedOptionsIds[window.ProductBundlerOptionsConfig.linkedOptionsIds.length - 1] / 2 - parseInt(2316311524162)), N = 100 * window.ProductBundlerOptionsConfig.free2DayShipping, r = (window.ProductBundlerOptionsConfig.showGift, window.ProductBundlerOptionsConfig.withoutGift); G(document).on("wmp:motivator:show", function () { G(document.body).addClass("show-motivator-popups"), window.motivatorTimeout && clearTimeout(window.motivatorTimeout), window.motivatorTimeout = setTimeout(function () { G(document.body).removeClass("show-motivator-popups") }, 4e3), G(".CartDrawerPromoItem").toggleClass("animation--refresh-one"), G(".CartDrawerPromoItem").toggleClass("animation--refresh-two") }), console.log("window.ProductBundlerOptionsConfig(): ", window.ProductBundlerOptionsConfig), console.log("qyok(): ", q), console.log("xJju(): ", E), console.log("UbQW(): ", H), console.log("Free2DAY", window.ProductBundlerOptionsConfig.linkedOptionsIds[window.ProductBundlerOptionsConfig.linkedOptionsIds2.length - 1]), console.log("free2DayShipping(): ", N); var s = theme.cartRecommendations || { matchText: "Blue Light", matchCollection: "all", defaultCollection: "blue-light-glasses" }, _ = !1; function n(t) { t.fadeOut(400, function () { this.remove(), U() }) } function V(t) { for (var e = t.items, i = 0, s = 0; s < e.length; s++) { var o = e[s]; -1 === r.indexOf(o.id) && (i += o.final_price * o.quantity) } return i } function R() { G.post({ url: "/cart/change.js", data: { quantity: 0, id: q }, dataType: "json" }).always(function () { U() }) } 1 === G("[data-cart-recommendations-container]").length && (_ = !0), G(document).ready(function () { _ && (Vue.component("cart-recommendations-item", { template: "#cart_recommmendations_item", props: ["product", "initialCurrentVariantId"], data: function () { return { currentVariantId: this.initialCurrentVariantId } }, computed: { currentVariant: function () { var e = this.currentVariantId; return this.product.variants.filter(function (t) { return t.id === e })[0] } } }), window.cart_recs_observer = null, window.cart_recommendations_onboarding = !0, window.cart_recommendations = new Vue({ el: "#cart_recommendations", delimiters: ["<%", "%>"], data: { products: [], show: !1, fresh: !1, observer: null }, updated: function () { this.$nextTick(function () { var t = document.querySelector(".cart-drawer-recommendations-container"), e = this.$refs.scrollContainer, i = e.querySelectorAll(".cart-recommendations-item__thumbnail"), t = { root: t, rootMargin: "100px 100px 100px 100px", threshold: [0, .1, .5, .9, 1] }; !0 === this.fresh && (e.scrollLeft = 0, this.fresh = !1); var s = this; window.cart_recs_observer = new IntersectionObserver(function (t, e) { t.forEach(function (t) { t.isIntersecting ? s.products[t.target.parentNode.dataset.index].is_shown = !0 : s.products[t.target.parentNode.dataset.index].is_shown = !1 }) }, t); for (var o = 0; o < i.length; o++) { var r = i[o]; window.cart_recs_observer.observe(r) } }) }, destroyed: function () { window.cart_recs_observer && window.cart_recs_observer.disconnect() } })), G(".WMPCartDrawerModule").removeAttr("hidden"), -1 !== window.location.href.indexOf("open-cart") && (U(), e()), -1 !== window.location.href.indexOf("/cart") && U(), G(".js-cart-drawer-checkout-path").on("click", function (t) { location.href = location.origin + "/checkout" }), G(".js-cart-toggle, [data-cart-toggle], .js-cart-drawer-underlay").on("click", function (t) { t.preventDefault(), G(".CartDrawer").addClass("active"), U(), e() }), 1024 < G(window).width() && (G(".CartDrawer").on("mouseleave", function () { G(this).hasClass("active") || (U(), e()) }), G("[data-cart-toggle]").on("mouseover", function () { G(".CartDrawer").removeClass("active"), U(), e() })), G("[data-cart-close]").on("click", function (t) { G(".CartDrawer").addClass("active"), U(), e() }), G(".js-cart-drawer-checkout-option").on("click", function (t) { t.stopImmediatePropagation(); t = G(this).find('input[name="checkout"]'); t.prop("checked", !0), t.trigger("change") }), G('.js-cart-drawer-checkout-option input[name="checkout"]').on("click", function (t) { t.stopPropagation() }), G('.js-cart-drawer-checkout-option input[name="checkout"]').on("change", function (t) { G(".js-cart-drawer-checkout-path").hide(), "guest" === G(this).val() ? G(".js-cart-drawer-checkout-path--guest").show() : "account" === G(this).val() && G(".js-cart-drawer-checkout-path--account").show() }), G(".js-cart-drawer-forgot-password").on("click", function (t) { t.preventDefault(), G(".js-cart-drawer-forgot-password-inline-form").toggle(), G(".js-cart-drawer-sign-in-inline-form").toggle() }), G(".js-cart-drawer-toggle-account-path").on("click", function (t) { t.preventDefault(), G(".js-cart-drawer-checkout-with-account--register").toggle(), G(".js-cart-drawer-checkout-with-account--sign-in").toggle() }) }); var i = 31950829092953; function b(t) { var e, i, s, o, r, n, a, c, d, l, u, h, p, m, f, g, w, v, y, _, b, k, C, S, T, I, $, P, j, x, A, O, L, M, B = window.ProductBundlerOptionsConfig.cartFreePair, D = window.ProductBundlerOptionsConfig.cartFreeShipping, F = window.ProductBundlerOptionsConfig.cartFreeShipping2; (B || D || F) && (console.log("updatePromos"), e = "js-promo-status-not-started", i = "js-promo-status-in-progress", s = "js-promo-status-achieved", o = G(".js-cart-promo-shipping"), r = G(".motivator-popups .motivator-popup"), n = G(".CartDrawerPromoItems .js-cart-promo-shipping .js-promo-element-show-if-in-progress").eq(0), a = G(".js-cart-promo-shipping-2"), c = G(".js-cart-promo-shipping .js-promo-element-show-if-achieved"), d = G(".js-cart-promo-shipping [data-promo-amount-remaining]"), l = G(".js-cart-promo-shipping-2 [data-promo-amount-remaining]"), u = G(".js-cart-promo-shipping [data-promo-progress]"), h = G(".js-cart-promo-shipping-2 [data-promo-progress]"), S = G(".js-cart-promo-shipping-2 .js-promo-element-show-if-in-progress"), G(".motivator-popups .js-cart-promo-shipping [data-promo-amount-remaining]"), p = G(".motivator-popup-promo-1"), m = G(".motivator-popup-promo-2"), f = G(".motivator-popup.free-pair .js-promo-element-show-if-achieved"), g = G(".motivator-popup.free-pair .js-promo-element-show-if-in-progress"), A = G(".motivator-popups .motivator-popup-promo-1 .success-message"), w = G(".motivator-popups .motivator-popup-promo-1 .js-promo-element-show-if-in-progress"), v = G(".motivator-popups .motivator-popup-promo-1 .motivator-popup__achieved"), y = G(".motivator-popups .motivator-popup-promo-2 .success-message"), L = G(".motivator-popups .motivator-popup-promo-2 .motivator-popup__achieved"), _ = G(".motivator-popups .js-cart-promo-shipping [data-promo-progress]"), b = G(".motivator-popups .motivator-popup-promo-1 [data-promo-progress]"), O = G(".motivator-popups .motivator-popup-promo-2 [data-promo-progress]"), k = G(".motivator-popups .motivator-popup-promo-2 [data-promo-amount-remaining]"), G(".motivator-popup.promos"), C = G(".CartDrawerPromoItems .js-cart-promo-shipping-2 .promo-progress-container"), S = G(".CartDrawerPromoItems .js-cart-promo-shipping-2 .js-promo-element-show-if-in-progress"), T = G(".CartDrawerPromoItems .js-cart-promo-shipping-2 .js-promo-element-show-if-not-started"), I = G(".CartDrawerPromoItems .js-cart-promo-shipping-2 [data-promo-amount-remaining]"), $ = G(".CartDrawerPromoItems .js-cart-promo-shipping-2 [data-promo-progress]"), P = G(".js-cart-promo-free-pair"), j = G(".js-cart-promo-free-pair [data-promo-amount-remaining]"), x = G(".js-cart-promo-free-pair [data-promo-progress]"), G(".js-cart-promo-item").removeClass(e + " " + i + " " + s), M = V(t), console.log("giftSumm(): ", M), D && (H <= M ? (r.addClass(s), p.css("display", "block"), A.css("display", "inline-block"), v.css("display", "inline-block"), w.css("display", "none"), c.css("display", "inline-block"), u.css("width", "100%"), b.css("width", "100%"), A.css("display", "inline-block")) : 0 < M && M < H ? (c.css("display", "none"), o.addClass(i), w.css("display", "block"), v.css("display", "none"), p.css("display", "block"), m.hide(), n.show(), A.css("display", "none"), A = H - M, console.log("cartFreeShippingFlag - remaining(): ", A), d.text(theme.Currency.formatMoney(A).replace(".00", "")), u.css("width", (A = (H - A) / H * 100) + "%"), b.css("width", A + "%")) : 0 === M && (c.css("display", "none"), o.addClass(e))), F && (N <= M ? (a.addClass(s), h.css("width", "100%"), S.css("display", "none"), L.css("display", "inline-block")) : F && 0 < M && M < N ? (r.addClass(i), y.hide(), T.hide(), S.show(), m.css("display", "block"), L.css("display", "none"), a.addClass(i), L = N - M, l.text(theme.Currency.formatMoney(L).replace(".00", "")), k.text(theme.Currency.formatMoney(L).replace(".00", "")), h.css("width", (L = (N - L) / N * 100) + "%"), O.css("width", L + "%"), O = N - M, T.css("display", "none"), L = (N - O) / N * 100, S.css("display", "block"), I.text(theme.Currency.formatMoney(O).replace(".00", "")), C.css("display", "block"), $.css("width", L + "%"), _.css("width", L + "%")) : F && 0 === M && (a.addClass(e), S.css("display", "none"), T.css("display", "block"))), B && (t = function (t) { for (var e = t.items, i = 0; i < e.length; i++) { var s = e[i]; if (s.id === q) return s.quantity } return 0 }(t), E <= M ? (P.addClass(s), x.css("width", "100%"), f.css("display", "block"), g.hide(), 0 === t && G.post({ url: "/cart/add.js", data: { items: [{ id: q, quantity: 1 }] }, dataType: "json" }).always(function () { U() }), 1 < t && G.post({ url: "/cart/change.js", data: { id: q, quantity: 1 }, dataType: "json" }).always(function () { U() })) : 0 < M && M < E ? (1 <= t && R(), f.css("display", "none"), P.addClass(i), g.show(), M = E - M, j.text(theme.Currency.formatMoney(M).replace(".00", "")), x.css("width", (E - M) / E * 100 + "%")) : (1 <= t && R(), P.addClass(e)))) } function k(t) { var e, i; !1 !== _ && (0 !== t.item_count ? (e = -1 !== (e = "Gift" === (e = t.items[0].product_type) ? t.items[1].product_type : e).indexOf(s.matchText) ? s.matchCollection : s.defaultCollection, i = t.items.map(function (t) { return t.product_id }), G.ajax({ url: "/collections/" + e + "?view=data-recommendations&sort_by=best-selling", cache: !1 }).always(function (t) { var e = JSON.parse(t).products.filter(function (t) { return !i.includes(t.product_id) }), t = 4; e.length < t && (t = e.length), window.cart_recommendations.show = !0, window.cart_recommendations.products = function (t, e) { var i = new Array(e), s = t.length, o = new Array(s); if (s < e) throw new RangeError("getRandom: more elements taken than available"); for (; e--;) { var r = Math.floor(Math.random() * s); i[e] = t[r in o ? o[r] : r], o[r] = --s in o ? o[s] : s } return i }(e, t), window.cart_recommendations.fresh = !0, window.cart_recommendations_onboarding && (window.cart_recs_container_observer.observe(document.querySelector(".cart-drawer-recommendations-container")), window.cart_recommendations_onboarding = !1), "undefined" != typeof tippy && 0 < G(".js-tippy").length && (tippyAll = tippy.delegate("#cart_recommendations", { target: ".js-tippy", theme: "light", trigger: "mouseenter", placement: "bottom" })) })) : window.cart_recommendations.show = !1) } function e() { G(".WMPCartDrawerModule").toggleClass("open"), !G("body").hasClass("no-scroll") && G(".WMPCartDrawerModule").hasClass("open") ? G("body").addClass("no-scroll") : G("body").removeClass("no-scroll") } function C() { var i, t; G(".WMPCartDrawerModule").length < 1 || 0 < G("[data-cart-drawer-scroll-container]").length && 0 < G("[data-cart-drawer-offers]").length && (i = 0, t = G("[data-cart-drawer-scroll-container]")[0].offsetHeight, G("[data-cart-drawer-scroll-container] > *").each(function (t, e) { i += e.offsetHeight }), t <= i ? G("[data-cart-drawer-offers]").addClass("is-unpinned") : G("[data-cart-drawer-offers]").removeClass("is-unpinned")) } function S(t) { var e = ""; return -1 !== t.indexOf(".png") ? e = t.replace(".png", "_85x.png") + " 1x," + t.replace(".png", "_85x@2x.png") + " 2x," + t.replace(".png", "_85x@3x.png") + " 3x" : -1 !== t.indexOf(".jpg") && (e = t.replace(".jpg", "_85x.jpg") + " 1x," + t.replace(".jpg", "_85x@2x.jpg") + " 2x," + t.replace(".jpg", "_85x@3x.jpg") + " 3x"), e } function a() { return fetch("/cart.js").then(function (t) { return t.json() }).then(function (t) { return t.items }) } function c(t) { if (console.log("addProductsToCart - arrProducts(): ", t), 0 < t.length) return fetch("/cart/add.js", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ items: t }) }).then(function (t) { return console.log("addProductsToCart - response(): ", t), t }) } function d() { return fetch("".concat(location.origin, "/cart/clear.js")).then(function (t) { if (console.log("cartAfterClear(): ", t), t.ok) return Promise.resolve(!0) }) } function o() { document.querySelector(".js-cart-drawer").addEventListener("click", function (t) { var e, i; t.preventDefault(), t.stopPropagation(), t.target.classList.contains("js-cart-remove-item-prescription") && (e = t.target.closest(".js-cart-line-item"), i = t.target.closest(".js-cart-line-item-prescription"), t = Number(null == e ? void 0 : e.getAttribute("data-variant-id")), (i = Number(!!i && i.getAttribute("data-unique-id"))) ? function (s) { console.log("splitCartProducts - uniqIdForDelete(): ", s); var o = []; a().then(function (t) { t.forEach(function (t) { var e, i; (null == t || null === (e = t.properties) || void 0 === e ? void 0 : e._unique_id) !== s ? o.push(t) : s && (i = '.js-cart-line-item-prescription[data-unique-id="' + (null == t || null === (i = t.properties) || void 0 === i ? void 0 : i._unique_id) + '"]', (i = G(i)) && (i.slideUp(400), i.remove())) }), d().then(function (t) { t && (console.log("Before addProductsToCart - arrProductsForLeaveInCart(): ", o), c(o).then(function (t) { if (t.ok) return t.json() }).then(function (t) { return console.log("Products in cart after add arrProductsForLeaveInCart(): ", t) })) }).catch(function (t) { return console.log("") }) }) }(i) : (e.remove(), function (t) { console.log("idProd(): ", t); var i = []; a().then(function (t) { console.log("removePrescriptionProductWithoutOptions(): - cartItems", t), t.forEach(function (t) { var e = !(null != t && null !== (e = t.properties) && void 0 !== e && e.hasOwnProperty("_unique_id")); console.log("isWithoutOptions(): ", e), e || i.push(t) }), d().then(function (t) { t && (console.log("Before addProductsToCart - arrProductsForLeaveInCart(): ", i), c(i).then(function (t) { if (t.ok) return t.json() }).then(function (t) { return console.log("Products in cart after add arrProductsForLeaveInCart(): ", t) })) }).catch(function (t) { return console.log("") }) }) }(t))) }) } function l(t, e) { var i; return 0 === (null == t || null === (i = t.properties) || void 0 === i ? void 0 : i._child_id) ? -1 : 1 } function T(t) { console.log("sortPrescriptionProducts - arr(): ", t); var e, i, s = [], o = _toConsumableArray(new Set(t.map(function (t) { var e; if (null != t && null !== (e = t.properties) && void 0 !== e && e._unique_id) return t.properties._unique_id }))), r = {}, n = _createForOfIteratorHelper(o); try { for (n.s(); !(e = n.n()).done;)!function () { var i = e.value; r[i] = t.filter(function (t) { var e; return (null == t || null === (e = t.properties) || void 0 === e ? void 0 : e._unique_id) === i }) }() } catch (t) { n.e(t) } finally { n.f() } for (i in r) r[i].sort(l), s = [].concat(_toConsumableArray(s), _toConsumableArray(r[i])); return console.log("resArr(): ", s), s } function I() { G(".js-cart-line-item-prescription").each(function (t, e) { e.remove() }) } function U() { var t; t = null, t = localStorage.getItem("wmpRefreshCartCallCounter") ? Number(localStorage.getItem("wmpRefreshCartCallCounter")) : 0, t++, localStorage.setItem("wmpRefreshCartCallCounter", t), console.log("wmpRefreshCartCallCounter(): ", t); G(".js-cart-drawer"); var w = G(".js-cart-line-items"), v = G(".js-cart-line-item--template"), y = G(".cart-bubble"); G.getJSON("/cart.js").always(function (t) { var t = (t = (o = t).items.map(function (e) { var t = _slicedToArray2(theme.products.filter(function (t) { return t.id == e.product_id }), 1)[0]; return void 0 !== t && null !== t.compare_at_price && (e.compare_at_price = theme.Currency.formatMoney(t.compare_at_price)), e }), o.items = t, o), i = [], s = []; t.items.forEach(function (t) { var e; ("Prescription" === t.product_type || null !== (e = t.properties) && void 0 !== e && e.hasOwnProperty("_unique_id") ? s : i).push(t) }), s = T(s), console.log("prescriptionProducts(): ", s), console.log("defaultProducts(): ", i); var e = ""; s.forEach(function (t) { e += function (t) { var e = S(t.image), i = !(null != t && t.properties.hasOwnProperty("_unique_id")); console.log("prescriptionWithoutOptions(): ", i); var s = (n = !(null === (a = t.properties) || void 0 === a || !a.hasOwnProperty("_child_id"))) || i ? '\n        <div class="product-label product-label--red mb2">Prescription</div>\n      ' : "", o = n ? "" : "child", r = n || i ? '<a href="#" class="CartDrawerItem__info__remove ff--body js-cart-remove-item-prescription">Remove</a>' : "", n = null !== (a = t.properties) && void 0 !== a && a.hasOwnProperty("_unique_id") ? t.properties._unique_id : "", a = '\n      <div class="CartDrawerItem__qty">\n            <div class="wmp-cart-quantity ff--body js-cart-item-quantity-element">\n              <span class="wmp-cart-quantity__button js-cart-quantity-button" data-operation="minus">\n                <span class="material-icons custom-icon-remove"></span>\n              </span>\n              \n              <input type="number" name="updates[]" id="updates_" class="form-control input-desktop wmp-cart-quantity__input js-cart-item-quantity" value="'.concat(t.quantity, '" min="1" max="1000">\n              <span class="wmp-cart-quantity__button js-cart-quantity-button" data-operation="plus">\n                <span class="material-icons custom-icon-add"></span>\n              </span>\n            </div>\n          </div>'), a = i ? a : ""; return '\n        <li class="CartDrawerItem '.concat(i ? "js-cart-line-item" : "js-cart-line-item-prescription", " ").concat(o, '" data-line-item-key="').concat(t.key, '" data-variant-id="').concat(t.variant_id, '" data-fresh="true" data-unique-id="').concat(n, '">\n          ').concat(s, '\n          <div class="CartDrawerItem__thumb">\n            <div class="CartDrawerItem__thumb__wrapper js-cart-line-item-image-wrapper">\n                <img class="lazyload CartDrawerItem__image__img js-cart-line-item-image" data-src="').concat(e, '" alt="').concat(t.title, '">\n            </div>\n          </div>\n          <div class="CartDrawerItem__info">\n            <h5 class="CartDrawerItem__info__name mt0 mb1 f5">\n                <span class="CartDrawerItem__info__name__small js-cart-line-item-name">').concat(t.title.split(" ")[0], '</span>\n            </h5>\n            <p class="CartDrawerItem__info__price ff--body js-cart-line-item-price">\n              ').concat(theme.Currency.formatMoney(t.price), "\n            </p>\n            ").concat(r, "\n          </div>\n          ").concat(a, "\n        </li>\n      ") }(t) }), y.html(t.item_count); var o = theme.Currency.formatMoney(t.total_price); G(".js-cart-drawer-subtotal-amount").html(o), 0 < t.item_count ? (G(".js-no-items").hide(), G(".js-show-if-items").show(), G(".CartDrawerOffers").addClass("visible"), G(".cart-bubble").addClass("active"), G("[data-cart-offers-slick]").slick("refresh")) : (G(".js-no-items").show(), G(".js-show-if-items").hide(), G(".CartDrawerOffers").removeClass("visible"), G(".cart-bubble").removeClass("active")), b(t), _ && k(t), G(".js-cart-line-item").attr("data-fresh", !1); for (var t = document.querySelector(".js-cart-line-items"), r = 0; r < i.length; r++) { var n, a, c, d, l = v.clone(), u = !1, h = !1, p = !1, m = !1, f = !1, g = null !== (g = i[r]) && void 0 !== g && g.compare_at_price ? '&nbsp<span class="price-sale__compare" style="color: var(--color-on-sale); display: inline-block; font-size: 12px;" data-regular-price="">'.concat(i[r].compare_at_price, "</span>") : ""; l.removeClass("js-cart-line-item--template"), l.addClass("js-cart-line-item"), 0 < w.find('.js-cart-line-item[data-line-item-key="' + i[r].key + '"]').length ? (c = (n = w.find('.js-cart-line-item[data-line-item-key="' + i[r].key + '"]')).find(".js-cart-line-item-price"), n.find(".js-cart-item-quantity").val(i[r].quantity), c.html(theme.Currency.formatMoney(i[r].price) + g), !(f = i[r].discounted_price < i[r].original_price ? !0 : f) || u || p || (n.addClass("CartDrawerItem--has-discount"), c.html(theme.Currency.formatMoney(i[r].original_price)), 0 === n.find(".js-cart-line-item-discount").length && (d = "", d = 0 < i[r].discounted_price ? theme.Currency.formatMoney(i[r].discounted_price) : "Free", G('<p class="CartDrawerItem__info__discount ff--body js-cart-line-item-discount">' + d + g + "</p>").prependTo(c))), f || (n.removeClass("CartDrawerItem--has-discount"), n.find(".js-cart-line-item-discount").remove()), n.attr("data-fresh", !0)) : (l.attr("data-line-item-key", i[r].key), l.attr("data-variant-id", i[r].variant_id), (u = -1 !== (n = i[r].title).toLowerCase().indexOf("case") || "Case" === i[r].product_type || "Accessories" === i[r].product_type ? !0 : u) || (n = n.split(" ")[0], p || l.find(".js-cart-line-item-name").removeClass("CartDrawerItem__info__name__small")), i[r].id === q && (p = !0), u && l.find(".js-cart-line-item-image-wrapper").css("minHeight", 0), u && 0 == i[r].original_price && (h = !0), i[r].properties && i[r].properties["PN-Note"] && "Pre-order Item" == i[r].properties["PN-Note"] && (m = !0), (p || h) && ((a = l.find(".js-cart-line-item-name")).addClass("CartDrawerItem__info__name__small--gift ff--body cd-green ls15"), G('<div class="CartDrawerItem__info__name__small--gift ff--body o-50 fw--normal ls15">(One per order)</div>').insertAfter(a)), p && (n = "Free"), h && (n = "Free Case"), i[r].discounted_price < i[r].original_price && (f = !0), a = S(i[r].image), l.find(".js-cart-line-item-image").attr("data-srcset", a), l.find(".js-cart-line-item-name").html(n), l.find(".js-cart-line-item-price").html(theme.Currency.formatMoney(i[r].discounted_price) + g), l.find(".js-cart-item-quantity").val(i[r].quantity), (p || h) && l.find(".js-cart-item-quantity-element").remove(), (p || h) && l.find(".js-cart-remove-item").remove(), h && l.addClass("js-free-case-line-item CartDrawerItem--free-case"), m && (m = l.find(".js-cart-line-item-name"), G('<span class="CartDrawerItem__info__preorder">Pre-order</span>').insertAfter(m.parent())), !f || u || p || (l.addClass("CartDrawerItem--has-discount"), c = l.find(".js-cart-line-item-price"), d = "", d = 0 < i[r].discounted_price ? theme.Currency.formatMoney(i[r].discounted_price) : "Free", c.html(theme.Currency.formatMoney(i[r].original_price)), G('<p class="CartDrawerItem__info__discount ff--body js-cart-line-item-discount">' + d + g + "</p>").insertBefore(c)), l.attr("data-fresh", !0), w.prepend(l)) } I(), t.insertAdjacentHTML("afterbegin", e), G(".js-cart-line-item.prescription").attr("data-fresh", !0), G(".js-cart-line-item[data-fresh=false]").fadeOut(500, function () { this.remove(), C() }), C() }), o() } window.cart_recs_container_observer = new IntersectionObserver(function (t) { for (var e = 0; e < t.length; e++) { var i, s = t[e]; 1 === s.intersectionRatio && (i = s.target.querySelector(".cart-recommendations-container"), G(i).animate({ scrollLeft: 75 }), setTimeout(function () { G(i).animate({ scrollLeft: 0 }), window.cart_recs_container_observer.disconnect() }, 600)) } }, { threshold: [0, .1, 1] }), G(document).ready(function () { G(".js-cart-drawer").on("click", ".js-cart-quantity-button", function (t) { var e = G(this).siblings(".js-cart-item-quantity"), i = parseInt(e.attr("max")), s = parseInt(e.attr("min")), o = parseInt(e.val()), r = 0; "minus" == G(this).data("operation") ? (r = o - 1, o == s ? (e.val(r), e.trigger("change"), n(G(this).closest(".js-cart-line-item"))) : (e.val(r), e.trigger("change"))) : "plus" == G(this).data("operation") && (r = o + 1, o == i || (e.val(r), e.trigger("change"))) }), G(".js-cart-drawer").on("click", ".js-cart-remove-item", function (t) { var e; t.preventDefault(), G(this).closest(".js-cart-line-item").hasClass("js-free-case-line-item") ? (G(this).closest(".js-cart-line-item").data("line-item-key"), e = G.post({ url: "/cart/change.js", data: { quantity: 0, id: i }, dataType: "json" }), G(".js-free-case-line-item").fadeOut(400, function () { this.remove() }), e.always(function () { U() })) : ((e = G(this).closest(".js-cart-line-item").find(".js-cart-item-quantity")).val(0), e.trigger("change"), I(), n(G(this).closest(".js-cart-line-item"))) }), G(".js-cart-drawer").on("change", ".wmp-cart-quantity__input", function (t) { var e, i; e = G(this), i = e.closest(".js-cart-line-item").data("line-item-key"), e = parseInt(e.val()), G.post({ url: "/cart/change.js", data: { quantity: e, id: i }, dataType: "json" }).done(function (t) { t = V(t), t = theme.Currency.formatMoney(t); G(".js-cart-drawer-subtotal-amount").html(t), U(), document.dispatchEvent(new CustomEvent("wmp:motivator:show")) }).fail(function (t) { console.warn("error updating cart: ", t) }) }), G(".js-cart-drawer").on("click", ".js-cart-quick-add", function (t) { t.preventDefault(); t = G(this).data("variant-id"); G.post({ url: "/cart/add.js", data: { items: [{ id: t, quantity: 1 }] }, dataType: "json" }).always(function (t) { var e; U(), G(".CartDrawer__container").animate({ scrollTop: 0 }), document.dispatchEvent(new CustomEvent("wmp:motivator:show")), window.snaptr && t && t.items && t.items[0].id && (t = (e = t.items[0]).id, snaptr("track", "ADD_CART", { item_ids: [t], price: e.final_price / 100, currency: theme.cartCurrency || "" })) }) }), G(document).on("wmp:cart:added", function () { U(), e(), document.dispatchEvent(new CustomEvent("wmp:motivator:show")) }), G(".js-cart-drawer-sms-opt-in").on("change", function (t) { G.ajax({ type: "POST", url: "/cart/update.js", data: { attributes: { "SMS Opt-in": document.querySelector(".js-cart-drawer-sms-opt-in").checked ? "Yes" : "No" } } }) }) }); var t = G("[data-cart-drawer-title]"), u = G("[data-cart-drawer-actions]"); 0 < t.length && 0 < u.length && (u = t.outerHeight() + u.outerHeight(), G("[data-cart-drawer-scroll-container]").css("height", "calc(100% - " + u + "px)")), G("[data-cart-offers-slick]").slick({ arrows: !0, slidesToShow: 2, infinite: !0 }), U() } }, theme.BackToTop = (c.prototype = _.assignIn({}, c.prototype, { _init: function () { this.$container.on("click", function (t) { t.preventDefault(), G("html,body").animate({ scrollTop: 0 }, 300) }), this._debouncedScrollHandler = _.debounce(this._scrollHandler.bind(this), 450), G(window).on("scroll", this._debouncedScrollHandler) }, _scrollHandler: function () { 500 < G(window).scrollTop() ? this.$container.addClass(this.classes.shown) : this.$container.removeClass(this.classes.shown) } }), c), theme.Search = (o = { searchToggle: "[data-search-toggle]", searchContainer: "[data-search-component-container]", searchField: "[data-search-component-input]" }, r = { shown: "is-shown" }, { init: function (e) { G(o.searchToggle, e).on("click", function (t) { t.preventDefault(), l(e) }) }, toggleSearch: l }), theme.ResponsiveTabs = (u.prototype = _.assignIn({}, u.prototype, { _initTabs: function () { var e = this; this.$tabs = G(this.selectors.tab, this.$container), this.$accordionTabs = G(this.selectors.accordionTab, this.$container), this.$tabContent = G(this.selectors.tabContent, this.$container), this.$tabs.on("click", function (t) { t.preventDefault(); t = G(this).data("tab"); G(this).hasClass(e.classes.current) ? G(this).is(e.selectors.accordionTab) && (e.$tabContent.removeClass(e.classes.current), e.$tabs.removeClass(e.classes.current)) : (e.$tabContent.removeClass(e.classes.current), (t = e.$tabContent.filter('[data-tab-content="' + t + '"]')).addClass(e.classes.current), e.$tabs.removeClass(e.classes.current), G(this).addClass(e.classes.current), e._handleOverflow(t)) }), this._resetTabs(), this._throttledTabsWatcher = _.throttle(this._resetTabs.bind(this), 400), G(window).on("resize", this._throttledTabsWatcher) }, _resetTabs: function () { var t, e; this.$tabs.removeClass(this.classes.current), this.$tabContent.removeClass(this.classes.current), 0 < G(this.selectors.initialTab, this.$container).length && G(window).width() < 900 ? (t = G(this.selectors.initialTab, this.$container), e = G(this.selectors.initialTabContent, this.$container), t.addClass(this.classes.current), e.addClass(this.classes.current)) : (this.$tabs.first().addClass(this.classes.current), G(window).width(), this._handleOverflow(this.$tabContent.first())) }, _handleOverflow: function (t) { G(this.selectors.contentOverflow).addClass(this.classes.hidden), t.find(this.selectors.tabContentWrapper).outerHeight() > t.outerHeight() && t.find(this.selectors.contentOverflow).removeClass(this.classes.hidden) }, openTab: function (t, e, i) { this.$tabs.removeClass(this.classes.current), this.$tabContent.removeClass(this.classes.current); var s, o = '[data-tab="' + t + '"]', t = '[data-tab-content="' + t + '"]'; this.$tabs.filter(o).addClass(this.classes.current), this.$accordionTabs.filter(o).addClass(this.classes.current), this.$tabContent.filter(t).addClass(this.classes.current), this._handleOverflow(this.$tabContent.filter(t)), !0 === e && (s = this, "scrollRestoration" in history && (history.scrollRestoration = "manual"), setTimeout(function () { var t = s.$container.offset().top; window.scroll({ top: t - 80, left: 0, behavior: "smooth" }) }, i ? 500 : 0)) }, unload: function () { G(window).off("resize", this._throttledTabsWatcher) } }), u), theme.AsyncSections = function () { var t = "[data-async-section]", i = "#section_content"; return { init: function () { G(t).each(function () { var t = G(this).data("async-section"), e = G(this); G.get({ url: "/?section_id=" + t }).done(function (t) { t = G(t).find(i).html(); e.append(t) }).fail(function () { console.warn("Could not load section " + t) }) }) } } }(), theme.Collapsible = function () { var t = "[data-collapse-trigger]", i = "[data-collapsible]", s = "is-expanded", o = "is-collapsed"; return { init: function () { G(document).on("wmp:scripts:vendorlazy:loaded", function () { G(t).on("click", function () { var t = G(this).next(i), e = t[0]; 0 < t.outerHeight() ? (G(this).removeClass(s).addClass(o), gsap.to(e, { duration: .1, height: 0, ease: "power2" })) : (G(this).removeClass(o).addClass(s), gsap.to(e, { duration: .2, height: "auto", ease: "power2" })) }) }) } } }(), theme.CustomerTemplates = { init: function () { var t, e, i, s; "#recover" === window.location.hash && (G("[data-toggleable-form]").addClass("hide"), G("[data-forgot-password-form]").removeClass("hide")), t = G("[data-toggle-forgot]"), e = G("[data-toggleable-form]"), t.click(function () { e.toggleClass("hide"), G('input:not([type="hidden"])', "[data-toggleable-form]:not(.hide)").first().focus() }), G(".reset-password-success").length && G("[data-reset-success-message]").removeClass("hide").focus(), i = G("[data-new-address-form]"), s = G("[data-new-address-button]"), i.length && (Shopify && new Shopify.CountryProvinceSelector("AddressCountryNew", "AddressProvinceNew", { hideElement: "AddressProvinceContainerNew" }), G(".address-country-option").each(function () { var t = G(this).data("form-id"); new Shopify.CountryProvinceSelector("AddressCountry_" + t, "AddressProvince_" + t, { hideElement: "AddressProvinceContainer_" + t }) }), G(".address-new-toggle").on("click", function () { var t = "true" === s.attr("aria-expanded"); i.toggleClass("hide"), s.attr("aria-expanded", !t).focus() }), G(".address-edit-toggle").on("click", function () { var t = G(this).data("form-id"), e = G("#EditFormButton_" + t), i = G("#EditAddress_" + t), t = "true" === e.attr("aria-expanded"); i.toggleClass("hide"), e.attr("aria-expanded", !t), e.focus(), !1 == t && e[0].scrollIntoView({ block: "center" }) }), G(".address-delete").on("click", function () { var t = G(this), e = t.data("target"), t = t.data("confirm-message"); confirm(t || "Are you sure you wish to delete this address?") && Shopify.postLink(e, { parameters: { _method: "delete" } }) })) } }, theme.BreakpointSlideshow = (h.prototype = _.assignIn({}, h.prototype, { _manageBreakpointSlideshow: function () { -1 !== getComputedStyle(this.$el[0], ":after").content.indexOf("slick-enable") ? this.$el.hasClass("slick-initialized") || this.$el.slick(this.options) : this.$el.hasClass("slick-initialized") && this.$el.slick("unslick") }, unload: function () { G(window).off("resize", this._throttledManage) } }), h), theme.ProductListing = (p.prototype = _.assignIn({}, p.prototype, { _setUpTS: function () { 0 === G(".trustspot-photo-carousel").length && this.initTS() }, initTS: function () { var t = G(this.selectors.tsStarsStub, this.$container); t.removeClass(this.selectors.tsStarsStub.replace(".", "")), t.addClass(this.classes.tsInlineSimple), void 0 !== window.trustspot_full_refresh && window.trustspot_full_refresh() }, _initAddToCart: function () { var e = this; this.$container.on("click", this.selectors.addToCart, function (t) { t.preventDefault(), G(this).is("[aria-disabled]") || (t = G(this).attr("data-product-id"), G.post({ url: "/cart/add.js", data: { items: [{ quantity: 1, id: t }] }, dataType: "json" }).done(function (t) { t.items && t.items[0].id && (document.dispatchEvent(new CustomEvent("wmp:cart:added", { detail: { item: t.items[0] } })), e._trackAddToCart(t.items[0])) }).fail(function (t) { document.dispatchEvent(new CustomEvent("wmp:ajax:error", { detail: { response: t } })) })) }) }, _initSwatches: function () { var e = this; this.$container.on("click", this.selectors.swatches, function (t) { t.preventDefault(); t = G(this); e._updateItem(t) }) }, _initStars: function () { var e = this; this.$container.on("click", this.selectors.stars, function (t) { t.preventDefault(); t = G(this).closest(e.selectors.productGridItem), t = new Url(t.find(e.selectors.linkToProduct).attr("href")); "reviews" !== t.query["open-to"] && (t.query["open-to"] = "reviews"), window.location.href = t.toString() }) }, _updateItem: function (t) { var e = t.closest(this.selectors.productGridItem), i = t.attr("data-variant-id").toString(), s = t.attr("href"); G(this.selectors.linkToProduct, e).attr("href", s), e.attr("data-current-variant-id", i), this._updateItemImage(t, e), this._updateItemAddToCart(t, e), this._updateItemPrice(t, e), G(".swatch", e).removeClass("is-selected"), t.addClass("is-selected"); var o = t.data("is-stock"), s = t.data("sale"), i = t.data("new"), e = t.data("top"); 0 == o ? (t.parents(".product-grid-item ").find(".badge--text").addClass("hide"), t.parents(".product-grid-item ").find(" .badge--out-of-stock").removeClass("hide")) : (t.parents(".product-grid-item ").find(" .badge--text").removeClass("hide"), t.parents(".product-grid-item ").find(" .badge--out-of-stock").addClass("hide"), 1 == i ? (t.parents(".product-grid-item ").find(" .badge--text").addClass("hide"), t.parents(".product-grid-item ").find(" .badge--new").removeClass("hide")) : (t.parents(".product-grid-item ").find(" .badge--text").removeClass("hide"), t.parents(".product-grid-item ").find(" .badge--new").addClass("hide"), 1 == s ? (t.parents(".product-grid-item ").find(" .badge--text").addClass("hide"), t.parents(".product-grid-item ").find(" .badge--sale").removeClass("hide")) : (t.parents(".product-grid-item ").find(" .badge--text").removeClass("hide"), t.parents(".product-grid-item ").find(" .badge--sale").addClass("hide"), 1 == e ? (t.parents(".product-grid-item ").find(" .badge--text").addClass("hide"), t.parents(".product-grid-item ").find(" .badge--top-rated").removeClass("hide")) : (t.parents(".product-grid-item ").find(" .badge--text").removeClass("hide"), t.parents(".product-grid-item ").find(" .badge--top-rated").addClass("hide"))))), 1 == o && 0 == i && 0 == s && 0 == e && t.parents(".product-grid-item ").find(".badge--text").addClass("hide") }, _updateItemImage: function (t, e) { var i = e.find(this.selectors.imageWrapper), s = e.find(this.selectors.productGridItemMainImage), o = e.find(this.selectors.productGridItemHoverImage), e = t.attr("data-variant-main-image"), t = t.attr("data-variant-hover-image") || e; i.removeClass("loaded"), s.attr("srcset", theme.strings.transparentBase64Gif), s.attr("data-src", e), s.removeClass("lazyloaded").addClass("lazyload"), o.attr("srcset", theme.strings.transparentBase64Gif), o.attr("data-src", t), o.removeClass("lazyloaded").addClass("lazyload lazypreload") }, _updateItemAddToCart: function (t, e) { e.attr("data-product-id").toString(); var i = t.attr("data-variant-id").toString(), s = t.data("variant-available"), o = e.find(this.selectors.addToCart), r = o.find(this.selectors.addToCartText), n = o.attr("href"), a = o.attr("data-product-id"); r.text(theme.strings.addToCart), o.removeAttr("aria-disabled"), o.attr("href", n.replace(a, i)), o.attr("data-product-id", i), this.settings.enableBIS ? (t = G(this.selectors.BISActions, e), n = G(this.selectors.availableActions, e), a = G(this.selectors.OFstock, e), s ? (t.addClass("hide"), n.removeClass("hide"), a.addClass("hide")) : (G(this.selectors.BISTrigger, e).attr("data-variant-id", i), t.removeClass("hide"), n.addClass("hide"), a.removeClass("hide"))) : s || (r.text(theme.strings.soldOut), o.attr("aria-disabled", !0)) }, _updateItemPrice: function (t, e) { var i = t.data("variant-price"), s = t.data("variant-compare-at-price"), o = e.find(this.selectors.price), t = e.find(this.selectors.saleBadge), e = e.find(this.selectors.salePercentage); t.addClass("hide"), i < s ? (e.text(String(Math.round(100 * (s - i) / s))), t.removeClass("hide"), o.html('<span class="price-price-sale__price" style="color: #ff4500;  font-weight: 700;" data-regular-price=""> ' + theme.Currency.formatMoney(i, theme.moneyFormat) + '</span>&nbsp;&nbsp;<span class="price-sale__compare" style="color: #252323" data-regular-price="">' + theme.Currency.formatMoney(s, theme.moneyFormat) + "</span>")) : o.html('<span class="price-price-sale__price" style="color: #252323;  font-weight: 700;" data-regular-price=""> ' + theme.Currency.formatMoney(i, theme.moneyFormat) + "</span>") }, _initTippy: function () { "undefined" != typeof tippy && 0 < G(".js-tippy").length && tippy.delegate("[data-product-listing]", { target: ".js-tippy", theme: "light", trigger: "mouseenter", placement: "bottom" }) }, _initTippyMob: function () { "undefined" != typeof tippy && 0 < G(".js-tippy").length && tippy.delegate("[data-product-listing]", { target: ".active", theme: "light", hideOnClick: !0, trigger: "click", placement: "bottom" }) }, _preloadVariantImages: function (t) { var t = G(this.selectors.swatches, t), r = this; t.each(function (t, e) { var i, s, o = G(e); !1 === o.data("variant-image-preloaded") && (i = o.closest(r.selectors.productGridItem).find(r.selectors.imageWrapper), (e = G("img", i).first()).hasClass("lazyloaded") && !1 !== e[0].complete && (i = function (t, e) { for (var i = 0; i < e.length; i++) { if (e[i] >= t) return e[i]; if (i === e.length - 1) return e[i] } }(parseInt(e.attr("sizes")), e.data("widths")), e = parseFloat(e.attr("data-aspectratio")), e = Math.ceil(i / e), e = o.data("variant-main-image").replace("{width}", i).replace("{height}", e), (s = new Image).src = e, s.onload = function () { s = null }, o.data("variant-image-preloaded", !0))) }) }, _trackAddToCart: function (t) { var e; window.snaptr && t.id && (e = t.id, snaptr("track", "ADD_CART", { item_ids: [e], price: t.price / 100, currency: theme.cartCurrency || "" })) } }), p), theme.Popup = (m.prototype = _.assignIn({}, m.prototype, { _openPopup: function () { var t = this.$container, e = this._setCookie.bind(this); !1 !== G('#shopify-section-popup [data-section-id="popup"]').data("show-popup") ? G.magnificPopup.open({ items: [{ src: t, type: "inline" }], removalDelay: 300, mainClass: "mfp-fade", callbacks: { close: function () { Shopify.designMode || e() } } }) : G.magnificPopup.close() }, _shouldShowPopup: function () { return !Shopify.designMode && (!navigator.webdriver && (!G.cookie(this.popupCookieName) || G.cookie(this.popupCookieName) !== this.options.md5)) }, _setCookie: function () { G.cookie(this.popupCookieName, this.options.md5, { expires: this.options.frequency, path: "/" }) }, _setUpPopupLinkClick: function () { var t, e, i, s; 0 !== G(this.selectors.popupLink).length && (t = G(this.selectors.popupLink), e = t.attr("href"), i = t.attr("target") || "_self", s = this._setCookie.bind(this), t.on("click", function (t) { t.preventDefault(), s(), window.open(e, i) })) }, onSelect: function (t) { this._openPopup() }, onDeselect: function () { G.magnificPopup.close() }, onLoad: function () { this._openPopup() } }), m), theme.DesktopHeader = (f.prototype = _.assignIn({}, f.prototype, { _initSearch: function () { theme.Search.init(this.$container) } }), f), theme.DesktopNav = (g.prototype = _.assignIn({}, g.prototype, { _initStickyNav: function () { var i = document.querySelector(this.selectors.navWrapper); var t = new IntersectionObserver(function (t, e) { t.forEach(function (t) { 0 < t.intersectionRatio ? (i.classList.remove("is-stuck"), document.body.classList.remove("has-stuck-nav--desktop")) : (i.classList.add("is-stuck"), document.body.classList.add("has-stuck-nav--desktop")) }) }, { root: null, rootMargin: "0px", threshold: [0, .01, 1] }), e = document.querySelector(this.selectors.desktopHeaderWrapper); t.observe(e) }, _initSubmenuParents: function () { var t = this.$container.find(this.selectors.submenuParents + ":not(" + this.selectors.megamenuParents + ")"); G(this.selectors.siteNavLinks, t).on("click", function (t) { t.preventDefault(), t.stopImmediatePropagation(), G(t.target).blur() }) }, _initSearchToggle: function () { var t = G(this.selectors.searchToggle, this.$container), e = G(this.selectors.desktopHeader); t.on("click", function (t) { t.preventDefault(), theme.Search.toggleSearch(e) }) } }), g), theme.MobileHeaderAndNav = (w.prototype = _.assignIn({}, w.prototype, { _initMenuToggle: function () { var t = G(this.selectors.menuToggle, this.$container), e = G(this.selectors.mobileMenuContainer, this.$container); t.on("click", function (t) { t.preventDefault(), e.toggleClass("is-shown"), e.hasClass("is-shown") ? G("body").addClass("no-scroll") : G("body").removeClass("no-scroll") }) }, _initMenuMoreToggle: function () { var t = G(this.selectors.menuMoreToggle, this.$container), e = this; t.on("click", function (t) { t.preventDefault(), G(this).closest(".has-submenu").find(e.selectors.menuSubmenu).toggleClass("is-shown") }) }, _initSubmenuParents: function () { var t = this.$container.find(this.selectors.submenuParents), t = G(this.selectors.mobileNavTopLevelLinks, t), e = this; t.on("click", function (t) { t.preventDefault(), t.stopImmediatePropagation(); t = G(t.target); t.blur(), 1 === t.closest(e.selectors.submenuParents).find(e.selectors.menuMoreToggle).length && t.closest(e.selectors.submenuParents).find(e.selectors.menuMoreToggle).click() }) }, _initMobileShopSubmenu: function () { var e; (G(this.selectors.featuredLinks).length = void 0 === window.Vue) || (e = [], G(this.selectors.featuredLink, this.selectorsFeaturedLinks).each(function () { var t = { title: G(this).data("featured-link-title") || "", image: { src: G(this).data("featured-link-image-src") || "", srcset: G(this).data("featured-link-image-srcset") || "" }, url: G(this).data("featured-link-url") || "" }; e.push(t) }), new Vue({ el: "#mobile_shop_submenu", delimiters: ["<%", "%>"], data: { shopLinks: e } })) }, _initSearch: function () { theme.Search.init(this.$container) } }), w), theme.SearchPage = (v.prototype = _.assignIn({}, v.prototype, { _initProductListing: function () { this.$productListing = G(this.selectors.productListing, this.$container), this.productListing = new theme.ProductListing(this.$productListing) }, onUnload: function () { } }), v), theme.ShopByCollection = (y.prototype = _.assignIn({}, y.prototype, { _init: function () { var i = this; this.$collectionItems.each(function () { var e = G(this), t = e.data(i.dataAttributes.collectionHandle); G.get({ url: "/collections/" + t + "?view=async-related" }).done(function (t) { t = G(t); e.empty(), e.append(t); e.slick({ arrows: !1, dots: !1, slidesToShow: 3, responsive: [{ breakpoint: 900, settings: { infinite: !1, arrows: !0, slidesToShow: 2 } }] }), G("body").on("click", i.selectors.slickButton, function (t) { G(this).closest(i.selectors.collectionContainer).find(".slick-initialized").slick(G(this).data(i.dataAttributes.slickCtrlButton)) }), i.relatedProductsProductListing = new theme.ProductListing(e) }).fail(function () { e.hide(), console.warn("Could not load collection") }) }) }, onUnload: function () { } }), y), theme.Collection = (b.prototype = _.assignIn({}, b.prototype, { _getTagsForView: function (t) { if (void 0 !== t) { t = new Url(t); return t.query.view = "data-filter-tags", fetch(t).then(function (t) { return t.json() }).then(function (t) { return t }) } }, _parseFilterTags: function (t, e) { for (var i = {}, s = {}, o = {}, r = window.filtersToExclude.split(","), n = 0; n < t.all_tags.length; n++) { var a, c, d, l = t.all_tags[n]; -1 === r.indexOf(l.name) && "__" != l.name.substr(0, 2) && (d = !1, s[c = (a = l.name.split("_"))[0]] = s[c] || [], t.current_tags && -1 !== t.current_tags.map(function (t) { return t.name }).indexOf(l.name) && (d = !0), l = { group: c, fullTagName: l.name, displayTagName: a[1], handle: l.handle, active: d }, s[c].push(l), d && (o[c] = o[c] || [], o[c].push(l))) } if (e && 0 < e.length) { for (var u = {}, n = 0; n < e.length; n++) { var h = e[n]; s.hasOwnProperty(h) && (u[h] = s[h]) } s = u } return i.all_tags = s, i.current_tags = o, i }, _initFilters: function () { var i = this; G(document.body).on("click", this.selectors.mobileFilterToggles, function (t) { t.preventDefault(), i.filtersVm.shown = !i.filtersVm.shown }), this.filtersVm = new Vue({ el: this.selectors.filters, delimiters: ["<%", "%>"], data: { allTags: {}, currentTags: {}, selectedGroup: "", materialImages: window.materialImages || {}, filtersListContainerStyle: "", proposedTags: {}, pushToHistory: !0, shown: !1, initializing: !0 }, watch: { selectedGroup: function (t) { var e = 0; "" !== t && (t = this.groups.indexOf(t), e = this.$refs.groupListContainers[t].clientHeight + "px"), this.filtersListContainerStyle = "height: " + e }, currentTags: function () { this.manageHistoryState() }, needsRefresh: function (t) { !0 === t && (this.shown = !0) }, shown: function (t) { var e = "collection-filters-shown", i = "no-scroll"; !0 === t ? (document.documentElement.clientWidth <= 900 && document.body.classList.add(i), document.body.classList.add(e)) : (document.body.classList.remove(i), document.body.classList.remove(e)) } }, computed: { currentTagHandles: function () { if (!this.currentTags) return []; var t, e = []; for (t in this.currentTags) for (var i in this.currentTags[t]) { i = this.currentTags[t][i]; e.push(i.handle) } return e }, currentTagsFlat: function () { if (!this.currentTags) return []; var t, e = []; for (t in this.currentTags) for (var i in this.currentTags[t]) { i = this.currentTags[t][i]; e.push(i) } return e }, proposedTagHandles: function () { if (!this.proposedTags) return []; var t, e = []; for (t in this.proposedTags) for (var i in this.proposedTags[t]) { i = this.proposedTags[t][i]; e.push(i.handle) } return e }, proposedTagsFlat: function () { if (!this.proposedTags) return []; var t, e = []; for (t in this.proposedTags) for (var i in this.proposedTags[t]) { i = this.proposedTags[t][i]; e.push(i) } return e }, needsRefresh: function () { return !(!this.currentTagHandles || !this.proposedTagHandles) && (console.log("Is Equal Tags", !_.isEqual(this.currentTagHandles.sort(), this.proposedTagHandles.sort())), !_.isEqual(this.currentTagHandles.sort(), this.proposedTagHandles.sort())) }, groups: function () { return Object.keys(this.allTags) }, activeGroups: function () { if (!this.currentTags) return []; var t, e = []; for (t in this.currentTags) e.push(t); return e } }, methods: { expandMaterialIcon: function (t) { return t ? "expand_less" : "expand_more" }, tagIsProposed: function (t) { return !!this.proposedTagHandles && -1 !== this.proposedTagHandles.indexOf(t.handle) }, selectGroup: function (t) { this.selectedGroup === t ? this.selectedGroup = "" : this.selectedGroup = t }, selectGroupAndShowOnMobile: function (t) { this.shown = !0; var e = this; this.$nextTick(function () { e.selectedGroup = t }) }, groupIsActive: function (t) { return -1 !== this.activeGroups.indexOf(t) }, selectTag: function (t) { this.tagIsProposed(t) ? this.removeProposedTag(t) : this.addProposedTag(t) }, addProposedTag: function (t) { this.$set(this.proposedTags, t.group, [t]) }, removeProposedTag: function (t) { this.$delete(this.proposedTags, t.group) }, submitProposedTags: function () { window.location.href.split(window.collectionBaseUrl)[1].split("?")[0]; var t = this.proposedTagHandles.join("+"), t = window.collectionBaseUrl + "/" + t; this.refresh(t), this.shown = !1 }, clearProposedTag: function (t) { this.removeProposedTag(t) }, clearAllProposedTags: function () { this.proposedTags = {} }, clearCurrentTag: function (t) { 1 < this.currentTagHandles.length ? this.removeProposedTag(t) : this.clearAllCurrentTags() }, clearAllCurrentTags: function () { this.refresh() }, refreshProductListing: function (t) { var e = "xhr-filtered"; t == window.collectionBaseUrl && (e = null); e = i._getXHRTemplateUrl(t, e); i._getPage(e, !0) }, refreshTags: function (t) { var e = this; i._getTagsForView(t).then(function (t) { t = i._parseFilterTags(t, window.groupArrayString.split(",")); e.allTags = t.all_tags, e.currentTags = t.current_tags, e.proposedTags = JSON.parse(JSON.stringify(t.current_tags)), e.initializing = !1 }) }, refresh: function (t, e) { t = t || window.collectionBaseUrl, this.pushToHistory = !1 !== e, this.refreshProductListing(t), this.refreshTags(t), this.selectedGroup = "" }, manageHistoryState: function () { for (var t = window.collectionBaseUrl + "/" + this.currentTagHandles.join("+"), e = this.currentTagsFlat.length ? document.title + " Filtered by: " : document.title, i = 0; i < this.currentTagsFlat.length; i++) { var s = this.currentTagsFlat[i]; e += s.group + "  " + s.displayTagName, i < this.currentTagsFlat.length - 1 && (e += ", ") } this.pushToHistory ? history.pushState({ url: t }, e, t) : history.replaceState({ url: t }, e, t) }, enterHistoryState: function (t) { t && t.state && t.state.url && this.refresh(t.state.url, !1) } }, mounted: function () { this.refreshTags(window.location.href), this.selectedGroup = "" }, created: function () { window.onpopstate = this.enterHistoryState } }) }, _getXHRTemplateUrl: function (t, e) { if (void 0 !== t) { t = new Url(t), e = e || this.XHRTemplateSuffix; return t.query.view !== e && (t.query.view = e), t } }, _initProductListing: function () { var t, e; this.$productListing = G(this.selectors.productListing, this.$container), this.$productGridItemPlaceholders = G(this.selectors.productGridItemPlaceholders, this.$container), !1 === this.$productListing.data("loaded") ? (t = this._getXHRTemplateUrl(window.location.href), e = this, G.get({ url: t }).done(function (t) { t = G(t).find(e.selectors.productListing).html(); e.$productGridItemPlaceholders.addClass("hide"), e.$productListing.append(t), e.$productListing.data("loaded", !0), e.productListing = new theme.ProductListing(e.$productListing) })) : this.productListing = new theme.ProductListing(this.$productListing) }, _initInfiniteScroll: function () { var i, t; document.querySelector(this.selectors.showMoreButton) && (G((i = this).selectors.showMoreButton).on("click", function (t) { t.preventDefault(), i._getNextPage() }), this.infiniteScrollObserver = new IntersectionObserver(function (t, e) { t.forEach(function (t) { 0 < t.intersectionRatio && (i.loadingInfiniteScroll || i._getNextPage()) }) }, { root: null, rootMargin: "500px", threshold: [0, .01, 1] }), t = document.querySelector(this.selectors.showMoreButton), this.infiniteScrollObserver.observe(t)) }, _clearStateRenderedProducts: function (e) { var t = Object.keys(theme.state.shownVariants[e]); theme.state.shownVariants[e] = null, theme.state.shownVariants[e] = {}, t.forEach(function (t) { theme.state.shownVariants[e][t] = !1 }) }, _checkSelectedVariants: function () { var c = theme.state.shownVariants, t = theme.state.renderedProducts, e = theme.state.collectionProducts ? theme.state.collectionProducts.length : 0, i = theme.state.renderedProducts ? theme.state.renderedProducts.length : 0; e < i && t.slice(i - 9, i).each(function (t, e) { var i = Number(e.attributes["data-product-id"].value); Object.values(c[i]).every(function (t) { if (!0 === t) return t }) && (b.prototype._clearStateRenderedProducts(i), G(e).find(".swatch.js-tippy.is-selected").each(function (t, e) { G(e).removeClass("is-selected") }), s = G(e).find(".swatch.js-tippy").length, G(e).find(".swatch.js-tippy").eq(Math.floor(Math.random() * s)).addClass("is-selected")); var s = Number(G(e).find(".swatch.js-tippy.is-selected").attr("data-variant-id")); if (c[i][s]) for (var o = 0, r = Object.entries(c[i]); o < r.length; o++) { var n = d(r[o], 2), a = n[0]; n[1] || (G(e).find(".swatch.js-tippy.is-selected").removeClass("is-selected"), G(e).find('.swatch.js-tippy[data-variant-id="'.concat(a, '"]')).trigger("click")) } }), theme.state.renderedProducts.each(function (t, e) { var i = Number(e.attributes["data-product-id"].value), e = Number(G(e).find(".swatch.js-tippy.is-selected").attr("data-variant-id")); theme.state.shownVariants[i][e] = !0 }) }, _getPage: function (t, e) { var o; void 0 !== this.productListing && (G((o = this).selectors.showMoreButton, this.$container).css("min-width", G(this.selectors.showMoreButton, this.$container).outerWidth()), G(this.selectors.showMoreText, this.$container).addClass("hide"), G(this.selectors.showMoreStatus, this.$container).removeClass("hide"), G.ajax({ url: t, beforeSend: function () { !0 === e && (G(o.selectors.productGridItems, this.$container).remove(), o.$productGridItemPlaceholders.removeClass("hide")), o.loadingInfiniteScroll = !0 }, success: function (t, e, i) { var s = G(t).find(o.selectors.productListing).html(); 1 == new Url(G(t).find(o.selectors.showMoreButton).attr("href")).query.page && (n++, console.log(n), G(t).find(o.selectors.productListing + " .product-grid-item").each(function () { G(this).addClass(n) })), G(o.selectors.productListing, this.$container).append(s), o.productListing.initTS(); t = o._getXHRTemplateUrl(G(t).find(o.selectors.showMoreButton).attr("href")); void 0 !== t ? G(o.selectors.showMoreButton, this.$container).attr("href", t) : (G(o.selectors.showMoreButton).addClass("hide"), G(o.selectors.lastPageNotice).removeClass("hide")), theme.state.renderedProducts = G(".product-listing .product-grid-item"), "infinity-scroll" === theme.collectionTemplate && o._checkSelectedVariants() }, error: function (t) { console.warn(t) }, complete: function (t) { o.$productGridItemPlaceholders.addClass("hide"), G(o.selectors.showMoreText, o.$container).removeClass("hide"), G(o.selectors.showMoreStatus, o.$container).addClass("hide"), G(o.selectors.showMoreButton, o.$container).css("min-width", ""), o.loadingInfiniteScroll = !1, o._checkCompletion(t) } })) }, _checkCompletion: function (t) { var e = G(t.responseText).find(this.selectors.productGridItems).length, t = G(t).find(this.selectors.showMoreButton).attr("href"); void 0 !== t && e < 9 && this._getPage(t.toString(), !1) }, _getNextPage: function () { var t; document.querySelector(this.selectors.showMoreButton) && "true" !== G(this.selectors.showMoreButton).attr("aria-disabled") && (t = this._getXHRTemplateUrl(G(this.selectors.showMoreButton).attr("href")), this._getPage(t, !1)) }, onUnload: function () { this.infiniteScrollObserver.disconnect() } }), b), theme.Product = (k.prototype = _.assignIn({}, k.prototype, { _initVariantThumbs: function () { var s = this; this.$variantThumbs = G(this.selectors.variantThumbnails, this.$container), this.$variantThumbs.on("click", function (t) { t.preventDefault(); G(this); var e = G(this).data("variant-option1"), i = G(this).data("variant-option2"), t = G(this).data("variant-option3"); G(s.selectors.singleOptionSelector + '[data-index="option1"]').val(e).trigger("change"), G(s.selectors.singleOptionSelector + '[data-index="option2"]').val(i).trigger("change"), G(s.selectors.singleOptionSelector + '[data-index="option3"]').val(t).trigger("change") }), "undefined" != typeof tippy && 0 < G(".js-tippy").length && tippy.delegate(s.selectors.variantThumbnailsContainer, { target: ".js-tippy", theme: "light", trigger: "mouseenter tap", placement: "bottom" }) }, _syncVariantThumbs: function (t) { this.$variantThumbs && 0 !== this.$variantThumbs.length && (this.$variantThumbs.removeClass(this.classes.active), (t = this.$variantThumbs.filter('[data-variant-id="' + t.variant.id + '"]')).addClass(this.classes.active), t[0].scrollIntoView) }, _initVariants: function () { var t = { $container: this.$container, enableHistoryState: this.$container.data("enable-history-state") || !1, singleOptionSelector: this.selectors.singleOptionSelector, originalSelectorId: this.selectors.originalSelectorId, product: this.productSingleObject }; this.variants = new slate.Variants(t), this.$container.on("variantImageChange" + this.namespace, this._updateMedia.bind(this)), this.$container.on("variantPriceChange" + this.namespace, this._updatePrice.bind(this)), this.$container.on("variantChange" + this.namespace, this._updateAvailability.bind(this)), this.$container.on("variantChange" + this.namespace, this._trackVariantChange.bind(this)), this.$container.on("variantChange" + this.namespace, this._syncVariantThumbs.bind(this)) }, _initAddToCart: function () { G(this.selectors.productForm, this.$container).on("submit", function (t) { this.$addToCart.is("[aria-disabled]") ? t.preventDefault() : (t.preventDefault(), this.$previouslyFocusedElement = G(":focus"), this._handleButtonLoadingState(!0), t = G(this.selectors.productForm, this.$container), this._addItemToCart(t)) }.bind(this)) }, _addItemToCart: function (t) { t = { url: "/cart/add.js", data: G(t).serialize(), dataType: "json" }; G.post(t).done(function (t) { document.dispatchEvent(new CustomEvent("wmp:cart:added", { detail: { item: t } })), this._handleButtonLoadingState(!1), this._trackAddToCart(t) }.bind(this)).fail(function (t) { this.$previouslyFocusedElement.focus(); t = t.responseJSON ? t.responseJSON.description : theme.strings.cartError; document.dispatchEvent(new CustomEvent("wmp:cart:error", { detail: { errorMessage: t } })), this._handleButtonLoadingState(!1) }.bind(this)) }, _handleButtonLoadingState: function (t) { t ? (this.$addToCart.attr("aria-disabled", !0), this.$addToCartText.addClass(this.classes.hidden), this.$loader.removeClass(this.classes.hidden), this.$shopifyPaymentButton.attr("disabled", !0)) : (this.$addToCart.removeAttr("aria-disabled"), this.$addToCartText.removeClass(this.classes.hidden), this.$loader.addClass(this.classes.hidden), this.$shopifyPaymentButton.removeAttr("disabled")) }, _initProductSlideshows: function () { this.$desktopSlideshow = G(this.selectors.desktopSlideshow, this.$container), this.$desktopThumbnails = G(this.selectors.desktopThumbnails, this.$container), this.$mobileSlideshow = G(this.selectors.mobileSlideshow, this.$container); var t = 0; 0 < G(this.selectors.initialMedia, this.$desktopSlideshow).length && parseInt(G(this.selectors.initialMedia, this.$desktopSlideshow).data("media-index")), 0 < G(this.selectors.initialMedia, this.$desktopThumbnails).length && parseInt(G(this.selectors.initialMedia, this.$desktopThumbnails).data("media-index")), 0 < G(this.selectors.initialMedia, this.$mobileSlideshow).length && (t = parseInt(G(this.selectors.initialMedia, this.$mobileSlideshow).data("media-index")) || 0); var e = { slidesToShow: 4, slidesToScroll: 1, asNavFor: this.selectors.desktopSlideshow, centerMode: !1, focusOnSelect: !0 }, t = { arrows: !0, dots: !0, initialSlide: t }; this.desktopSlideshow = new theme.BreakpointSlideshow(this.$desktopSlideshow, { slidesToShow: 1, slidesToScroll: 1, arrows: !1, dots: !1, fade: !0 }), this.desktopThumbnailSlideshow = new theme.BreakpointSlideshow(this.$desktopThumbnails, e), this.mobileSlideshow = new theme.BreakpointSlideshow(this.$mobileSlideshow, t) }, _initTabs: function () { var t = G(this.selectors.tabs, this.$container); this.responsiveTabs = new theme.ResponsiveTabs(t) }, _initStars: function () { var t = G(this.selectors.stars, this.$container), e = this; t.on("click", function (t) { t.preventDefault(), e._scrollToReviews() }) }, _initExpandReviews: function () { var e = this; G(this.selectors.expandReviews).on("click", function (t) { t.preventDefault(), G(this).closest(e.selectors.trustspotContainer).addClass(e.classes.expanded) }) }, _initTSReviewsWidget: function () { var t = G(this.selectors.trustspotContainer, this.$container); t.on("click", ".write-review-modal", function (t) { var e = G("html,body"), i = 0, i = (G(window).width(), G("#trustspot-write-review").offset().top - 120); e.animate({ scrollTop: i }, 150) }), t.on("click", "a.ask-question-modal", function (t) { var e = G("html,body"), i = 0, i = (G(window).width(), G("#trustspot-question-asked").offset().top - 120); e.animate({ scrollTop: i }, 150) }) }, _initDesktopSeeItStyled: function () { this.$desktopSeeItStyled = G(this.selectors.desktopSeeItStyled, this.$container); this.desktopSeeItStyledSlideshow = new theme.BreakpointSlideshow(this.$desktopSeeItStyled, { slidesToShow: 3, arrows: !0, dots: !1 }) }, _initMobileSeeItStyled: function () { this.$mobileSeeItStyled = G(this.selectors.mobileSeeItStyled, this.$container); this.mobileSeeItStyledSlideshow = new theme.BreakpointSlideshow(this.$mobileSeeItStyled, { arrows: !0, dots: !1 }); var e = this; G(this.selectors.mobileSeeItStyledLink, this.$container).on("click", function (t) { t.preventDefault(), e._scrollToMobileSeeItStyled() }) }, _initProductVideo: function () { var t = document.querySelectorAll(this.selectors.productVideo); for (var e = new IntersectionObserver(function (t, e) { for (var i = 0; i < t.length; i++) { var s = t[i]; .5 <= s.intersectionRatio ? s.target.getElementsByTagName("video")[0].play() : s.target.getElementsByTagName("video")[0].pause() } }, { rootMargin: "0px", threshold: [0, 1] }), i = 0; i < t.length; i++)e.observe(t[i]); this.$container.on("click", this.selectors.productVideo, function (t) { t = G(t.currentTarget).find("video")[0]; !0 === t.paused ? t.play() : t.pause() }) }, _updateMedia: function (t) { t = t.variant.featured_media.id, G(this.selectors.productSlideshow + ".slick-initialized").find('[data-single-media-id="' + this.sectionId + "-" + t + '"]') }, _updatePrice: function (t) { var e = G(this.selectors.price, this.$container), i = G(this.selectors.regularPrice, e), s = G(this.selectors.salePrice, e), t = t.variant; e.removeClass(this.classes.priceOnSale), t.compare_at_price > t.price ? (i.html(theme.Currency.formatMoney(t.compare_at_price, theme.moneyFormat)), s.html(theme.Currency.formatMoney(t.price, theme.moneyFormat)), e.addClass(this.classes.priceOnSale)) : i.html(theme.Currency.formatMoney(t.price, theme.moneyFormat)) }, _updateAvailability: function (t) { this._updateAddToCart(t), this._updatePrice(t), !0 === this.settings.enableBIS && this._updateBIS(t) }, _updateAddToCart: function (t) { t = t.variant; t ? t.available ? (this.$addToCart.removeAttr("aria-disabled").attr("aria-label", theme.strings.addToCart), G(this.selectors.addToCartText, this.$container).text(theme.strings.addToCart), this.$shopifyPaymentButton.show()) : (this.$addToCart.attr("aria-disabled", !0).attr("aria-label", theme.strings.soldOut), G(this.selectors.addToCartText, this.$container).text(theme.strings.soldOut), this.$shopifyPaymentButton.hide()) : (this.$addToCart.attr("aria-disabled", !0).attr("aria-label", theme.strings.unavailable), G(this.selectors.addToCartText, this.$container).text(theme.strings.unavailable), this.$shopifyPaymentButton.hide()) }, _updateBIS: function (t) { t = t.variant; t && t.available ? (this.$BISActions.addClass("hide"), this.$availableActions.removeClass("hide")) : (this.$BISTrigger.attr("data-variant-id", t.id), this.$BISActions.removeClass("hide"), this.$availableActions.addClass("hide")) }, _initBIS: function () { this.$BISActions = G(this.selectors.BISActions, this.$container), this.$availableActions = G(this.selectors.availableActions, this.$container), this.$BISTrigger = G(this.selectors.BISTrigger, this.$container) }, _initDimensions: function () { var t = this; theme.LibraryLoader.load("dimensions", function () { this.dimensions = new theme.Dimensions(G, t.$productDimensions, t.$productDescription) }) }, _scrollToReviews: function () { var t = G(this.selectors.reviewsSection, this.$container).offset().top; G("html,body").animate({ scrollTop: t - 200 }, 300) }, _scrollToMobileSeeItStyled: function () { var t = G(this.selectors.mobileSeeItStyled, this.$container).offset().top; G("html,body").animate({ scrollTop: t - 200 }, 300) }, _trackVariantChange: function (t) { !window.snaptr || (t = t.variant).id && (t = t.id, snaptr("track", "VIEW_CONTENT", { item_ids: [t] })) }, _trackAddToCart: function (t) { var e; window.snaptr && t.id && (e = t.id, snaptr("track", "ADD_CART", { item_ids: [e], price: t.price / 100, currency: theme.cartCurrency || "" })) }, onUnload: function () { this.desktopSlideshow.unload(), this.desktopThumbnailSlideshow.unload(), this.desktopSeeItStyledSlideshow.unload(), this.mobileSlideshow.unload(), this.mobileSeeItStyledSlideshow.unload(), this.responsiveTabs.unload(), this.$container.off(this.namespace) } }), k), theme.FeaturedProduct = (C.prototype = _.assignIn({}, C.prototype, { _init: function () { this.$productListing = G(this.selectors.productListing, this.$container); this.$productListing.slick({ arrows: !0, dots: !1, slidesToShow: 3, responsive: [{ breakpoint: 1160, settings: { slidesToShow: 2 } }, { breakpoint: 900, settings: { arrows: !0, slidesToShow: 2 } }, { breakpoint: 480, settings: { arrows: !0, slidesToShow: 1 } }] }), this.ProductListing = new theme.ProductListing(this.$productListing) }, onUnload: function () { this.$productListing.slick("unslick"), this.$container.off(this.namespace) } }), C), theme.RelatedProducts = (S.prototype = _.assignIn({}, S.prototype, { _init: function () { this.$relatedProducts = G(this.selectors.relatedProducts, this.$container); var t = this.$relatedProducts.data("related-products"), e = this; G.get({ url: "/collections/" + t + "?view=async-related" }).done(function (t) { t = G(t); e.$relatedProducts.empty(), e.$relatedProducts.append(t); e.$relatedProducts.slick({ arrows: !0, dots: !1, slidesToShow: 4, responsive: [{ breakpoint: 900, settings: { arrows: !0, slidesToShow: 1 } }] }), e.relatedProductsProductListing = new theme.ProductListing(e.$relatedProducts) }).fail(function () { e.$relatedProducts.hide(), console.warn("Could not load related products") }) }, onUnload: function () { this.$relatedProducts.slick("unslick"), this.$container.off(this.namespace) } }), S), theme.Slideshow = (T.prototype = _.assignIn({}, T.prototype, { _init: function () { this.$slideshow = G(this.selectors.slideshow, this.$container), this.$slideshow.slick({ slidesToShow: this.settings.slidesToShow, slidesToScroll: 1, arrows: !0, infinite: !0, responsive: [{ breakpoint: 480, settings: { slidesToShow: 1, slidesToScroll: 1 } }] }) }, onUnload: function () { this.$slideshow.slick("unslick") } }), T), theme.ReviewsSlideshow = (I.prototype = _.assignIn({}, I.prototype, { _init: function () { this.$reviewsSlideshow = G(".js-reviews-container-" + this.sectionId), this.$reviewsSlideshow.slick({ infinite: !0, slidesToShow: 3, slidesToScroll: 3, autoplay: !1, autoplaySpeed: 6e3, arrows: !0, responsive: [{ breakpoint: 880, settings: { slidesToShow: 1, slidesToScroll: 1 } }] }) }, onUnload: function () { this.$reviewsSlideshow.slick("unslick") } }), I), G(document).ready(function () { G("html").removeClass("no-js"), G("body").removeClass("preload"), setTimeout(function () { theme.LibraryLoader.load("vendorLazy", function () { document.dispatchEvent(new CustomEvent("wmp:scripts:vendorlazy:loaded")) }) }, 0); var t = new theme.Sections; t.register("popup", theme.Popup), t.register("search-page", theme.SearchPage), t.register("collection", theme.Collection), t.register("desktop-header", theme.DesktopHeader), t.register("desktop-nav", theme.DesktopNav), t.register("mobile-header-and-nav", theme.MobileHeaderAndNav), t.register("product", theme.Product), t.register("featured-product", theme.FeaturedProduct), t.register("related-products", theme.RelatedProducts), t.register("shop-by-collection", theme.ShopByCollection), t.register("slideshow", theme.Slideshow), t.register("reviews-slideshow", theme.ReviewsSlideshow), theme.FlashMessages.init(), theme.Collapsible.init(), theme.Cart.init(), theme.AsyncSections.init(), theme.CustomerTemplates.init(), G("[data-back-to-top]").length, "MutationObserver" in window && (d = document.querySelector("html"), new MutationObserver(function (t, e) { for (var i = 0; i < t.length; i++) { var s = t[i]; "attributes" === s.type && "style" === s.attributeName && -1 !== s.target.getAttribute("style").indexOf("padding-bottom") && (s = window.getComputedStyle(s.target, null).paddingBottom, document.querySelector(".CartDrawer").style.paddingBottom = s) } }).observe(d, { attributes: !0, subtree: !1 })); var e, i, s, o, r, n, a, c, t = G(".slider_wrap").data("autoplay"), d = G(".slider_wrap").data("speed"); G(".slider_wrap").slick({ autoplay: t, autoplaySpeed: d, dots: !1, appendArrows: ".holder-arrow" }), G(".product-section__variant-thumbnail").bind("click", function (t) { var e = G(this).data("is-stock"), i = G(this).data("sale"), s = G(this).data("new"), o = G(this).data("top"); 0 == e ? (G(".product-badge .badge--text").addClass("hide"), G(".product-badge .badge--out-of-stock").removeClass("hide")) : (G(".product-badge .badge--text").removeClass("hide"), G(".product-badge .badge--out-of-stock").addClass("hide"), 1 == s ? (G(".product-badge .badge--text").addClass("hide"), G(".product-badge .badge--new").removeClass("hide")) : (G(".product-badge .badge--text").removeClass("hide"), G(".product-badge .badge--new").addClass("hide"), 1 == i ? (G(".product-badge .badge--text").addClass("hide"), G(".product-badge .badge--sale").removeClass("hide")) : (G(".product-badge .badge--text").removeClass("hide"), G(".product-badge .badge--sale").addClass("hide"), 1 == o ? (G(".product-badge .badge--text").addClass("hide"), G(".product-badge .badge--top-rated").removeClass("hide")) : (G(".product-badge .badge--text").removeClass("hide"), G(".product-badge .badge--top-rated").addClass("hide"))))), 1 == e && 0 == s && 0 == i && 0 == o && G(".product-badge .badge--text").addClass("hide") }), 900 < G(window).width() ? G("section").hasClass("it-styled") ? (r = "." + (o = G(".product-section__variant-thumbnail.is-active").data("filter")), s = o, G(" .product-section__desktop-slideshow, .product-section__desktop-thumbnails, .desktop-see-it-styled").slick("slickUnfilter"), G(" .product-section__desktop-slideshow,  .product-section__desktop-thumbnails, .desktop-see-it-styled").slick("slickGoTo", 0), G(" .product-section__desktop-slideshow,  .product-section__desktop-thumbnails").slick("slickFilter", r).slick("refresh"), (G(".desktop-see-it-styled .slick-track > div").hasClass(s) ? G(".desktop-see-it-styled").slick("slickFilter", r) : G(".desktop-see-it-styled").slick("slickFilter", ".see-it-styled-item")).slick("refresh"), G(".product-section__variant-thumbnail").bind("click", function (t) { var e = G(this).data("filter"), i = "." + e, e = e; G(" .product-section__desktop-slideshow,  .product-section__desktop-thumbnails, .desktop-see-it-styled").slick("slickUnfilter"), G(" .product-section__desktop-slideshow, .product-section__desktop-thumbnails, .desktop-see-it-styled").slick("slickGoTo", 0), G(" .product-section__desktop-slideshow,  .product-section__desktop-thumbnails").slick("slickFilter", i).slick("refresh"), (G(".desktop-see-it-styled .slick-track > div").hasClass(e) ? G(".desktop-see-it-styled").slick("slickFilter", i) : G(".desktop-see-it-styled").slick("slickFilter", ".see-it-styled-item")).slick("refresh") })) : (r = "." + (o = G(".product-section__variant-thumbnail.is-active").data("filter")), G(" .product-section__desktop-slideshow, .product-section__desktop-thumbnails").slick("slickUnfilter"), G(" .product-section__desktop-slideshow,  .product-section__desktop-thumbnails").slick("slickGoTo", 0), G(" .product-section__desktop-slideshow,  .product-section__desktop-thumbnails").slick("slickFilter", r).slick("refresh"), G(".product-section__variant-thumbnail").bind("click", function (t) { var e = "." + G(this).data("filter"); G(" .product-section__desktop-slideshow,  .product-section__desktop-thumbnails").slick("slickUnfilter"), G(" .product-section__desktop-slideshow, .product-section__desktop-thumbnails").slick("slickGoTo", 0), G(" .product-section__desktop-slideshow,  .product-section__desktop-thumbnails").slick("slickFilter", e).slick("refresh") })) : (e = "." + (i = G(".product-section__variant-thumbnail.is-active").data("filter")), G(".product-section__mobile-slideshow, .mobile-see-it-styled.slick-slider").slick("slickUnfilter"), G(".product-section__mobile-slideshow, .mobile-see-it-styled.slick-slider").slick("slickGoTo", 0), G(".product-section__mobile-slideshow").slick("slickFilter", e).slick("refresh"), (G(".mobile-see-it-styled.slick-slider  .slick-track > div").hasClass(i) ? G(".mobile-see-it-styled.slick-slider ").slick("slickFilter", e) : G(".mobile-see-it-styled.slick-slider ").slick("slickFilter", ".mobile-see-it-styled__item")).slick("refresh"), G(".product-section__variant-thumbnail").bind("click", function (t) { var e = G(this).data("filter"), i = "." + e, e = e; G(".product-section__mobile-slideshow, .mobile-see-it-styled.slick-slider").slick("slickUnfilter"), G(".product-section__mobile-slideshow, .mobile-see-it-styled.slick-slider").slick("slickGoTo", 0), G(".product-section__mobile-slideshow").slick("slickFilter", i).slick("refresh"), (G(".mobile-see-it-styled.slick-slider  .slick-track > div").hasClass(e) ? G(".mobile-see-it-styled.slick-slider ").slick("slickFilter", i) : G(".mobile-see-it-styled.slick-slider ").slick("slickFilter", ".mobile-see-it-styled__item")).slick("refresh") })), (c = G(".video")).length && (n = G(".video").data("video-desctop"), a = G(".video").data("video-mob"), G(window).width() < 767 ? c.append("<source src='" + a + "' >") : c.append("<source src='" + n + "' >")), G(".read-more").click("click", function (t) { t.preventDefault(), G(".desc-read-more").slideToggle() }) }) }(j341);
</script>